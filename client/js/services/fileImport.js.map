{"version":3,"sources":["../../es6/services/fileImport.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAChC,OAAO,CAAC,YAAY,EAAE,CACrB,YAAY,EACZ,SAAS,wBAAwB,CAAC,iBAAiB,EAAE;AACnD,MAAI,OAAO,GAAG;AACZ,UAAM,EAAE,iBAAiB;GAC1B,CAAC;AACF,MAAI,iBAAiB,GAAG;AACtB,QAAI,EAAE,cAAS,IAAI,EAAE,IAAI,EAAE;AACzB,aAAO,IAAI,IAAI,CAAC,OAAO,CAAC,UAAS,OAAO,EAAE,MAAM,EAAE;AAChD,YAAI,MAAM,GAAG,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;AACnC,cAAM,CAAC,MAAM,GAAG,UAAS,CAAC,EAAE;AAC1B,iBAAO,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CACjC,IAAI,CAAC,OAAO,CAAC,CACb,KAAK,CAAC,MAAM,CAAC,CAAC;SAClB,CAAC;AACF,cAAM,CAAC,OAAO,GAAG,YAAW;AAC1B,gBAAM,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;SAChC,CAAC;AACF,cAAM,CAAC,OAAO,GAAG,YAAW;AAC1B,gBAAM,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;SAChC,CAAC;AACF,cAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;OACzB,CAAC,CAAC;KACJ;GACF,CAAC;AACF,GAAC,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC;AAClC,SAAO,iBAAiB,CAAC;CAC1B,CACF,CAAC,CAAC","file":"fileImport.js","sourcesContent":["'use strict';\n\nangular.module('clickApp.services')\n  .factory('fileImport', [\n    'jsonParser',\n    function fileImportServiceFactory(jsonParserService) {\n      var parsers = {\n        'json': jsonParserService\n      };\n      var fileImportService = {\n        read: function(type, file) {\n          return new self.Promise(function(resolve, reject) {\n            var reader = new self.FileReader();\n            reader.onload = function(e) {\n              parsers[type].parse(e.target.result)\n                .then(resolve)\n                .catch(reject);\n            };\n            reader.onerror = function() {\n              reject(['Error reading file']);\n            };\n            reader.onabort = function() {\n              reject(['Abort reading file']);\n            };\n            reader.readAsText(file);\n          });\n        }\n      };\n      R.curryService(fileImportService);\n      return fileImportService;\n    }\n  ]);\n"]}