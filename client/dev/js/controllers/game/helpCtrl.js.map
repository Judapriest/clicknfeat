{"version":3,"sources":["../../../es6/controllers/game/helpCtrl.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,MAAM,CAAC,sBAAsB,CAAC,CACnC,UAAU,CAAC,cAAc,EAAE,CAC1B,QAAQ,EACR,MAAM,EACN,OAAO,EACP,YAAY,EACZ,UAAS,MAAM,EACN,WAAW,EACX,YAAY,EACZ,iBAAiB,EAAE;AAC1B,SAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;;AAEjC,QAAM,CAAC,KAAK,GAAG;AACb,QAAI,EAAE,uBAAuB;AAC7B,OAAG,EAAE,IAAI;GACV,CAAC;AACF,QAAM,CAAC,aAAa,GAAG,YAAM;AAC3B,qBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC5C,qBAAiB,CAAC,QAAQ,CAAC,MAAM,EAAE;AACjC,cAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,OAAO;AACjC,UAAI,EAAE,MAAM,CAAC,IAAI;KAClB,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAK;AACf,YAAM,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;AACvB,YAAM,CAAC,OAAO,EAAE,CAAC;KAClB,CAAC,CAAC;GACJ,CAAC;;AAEF,QAAM,CAAC,UAAU,CAAC,IAAI,CAAC,YAAM;AAC3B,UAAM,CAAC,aAAa,EAAE,CAAC;AACvB,UAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,wBAAwB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACtE,UAAM,CAAC,OAAO,EAAE,CAAC;GAClB,CAAC,CAAC;AACH,QAAM,CAAC,WAAW,CAAC,UAAU,EAAE,YAAM;AACnC,UAAM,CAAC,aAAa,EAAE,CAAC;AACvB,UAAM,CAAC,OAAO,EAAE,CAAC;GAClB,EAAE,MAAM,CAAC,CAAC;AACX,QAAM,CAAC,WAAW,CAAC,YAAY,EAAE,YAAM;AACrC,UAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,wBAAwB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACtE,UAAM,CAAC,OAAO,EAAE,CAAC;GAClB,EAAE,MAAM,CAAC,CAAC;AACX,QAAM,CAAC,GAAG,CAAC,UAAU,EAAE,YAAM;AAC3B,qBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;GAC7C,CAAC,CAAC;CACJ,CACF,CAAC,CAAC","file":"helpCtrl.js","sourcesContent":["angular.module('clickApp.controllers')\n  .controller('gameHelpCtrl', [\n    '$scope',\n    'game',\n    'modes',\n    'fileExport',\n    function($scope,\n             gameService,\n             modesService,\n             fileExportService) {\n      console.log('init gameHelpCtrl');\n\n      $scope.debug = {\n        name: 'clicknfeat_debug.json',\n        url: null\n      };\n      $scope.updateExports = () => {\n        fileExportService.cleanup($scope.debug.url);\n        fileExportService.generate('json', {\n          settings: $scope.settings.current,\n          game: $scope.game\n        }).then((url) => {\n          $scope.debug.url = url;\n          $scope.$digest();\n        });\n      };\n\n      $scope.onGameLoad.then(() => {\n        $scope.updateExports();\n        $scope.bindings = modesService.currentModeBindingsPairs($scope.modes);\n        $scope.$digest();\n      });\n      $scope.onGameEvent('saveGame', () => {\n        $scope.updateExports();\n        $scope.$digest();\n      }, $scope);\n      $scope.onGameEvent('switchMode', () => {\n        $scope.bindings = modesService.currentModeBindingsPairs($scope.modes);\n        $scope.$digest();\n      }, $scope);\n      $scope.$on('$destroy', () => {\n        fileExportService.cleanup($scope.debug.url);\n      });\n    }\n  ]);\n"]}