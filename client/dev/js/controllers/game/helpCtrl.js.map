{"version":3,"sources":["../../../es6/controllers/game/helpCtrl.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,sBAAsB,CAAC,CACnC,UAAU,CAAC,cAAc,EAAE,CAC1B,QAAQ,EACR,MAAM,EACN,OAAO,EACP,YAAY,EACZ,UAAS,MAAM,EACN,WAAW,EACX,YAAY,EACZ,iBAAiB,EAAE;AAC1B,SAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;;AAEjC,QAAM,CAAC,KAAK,GAAG;AACb,QAAI,EAAE,uBAAuB;AAC7B,OAAG,EAAE,IAAI;GACV,CAAC;AACF,QAAM,CAAC,aAAa,GAAG,SAAS,aAAa,GAAG;AAC9C,qBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC5C,qBAAiB,CAAC,QAAQ,CAAC,MAAM,EAAE;AACjC,cAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,OAAO;AACjC,UAAI,EAAE,MAAM,CAAC,IAAI;KAClB,CAAC,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE;AACpB,YAAM,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;AACvB,YAAM,CAAC,OAAO,EAAE,CAAC;KAClB,CAAC,CAAC;GACJ,CAAC;AACF,QAAM,CAAC,GAAG,CAAC,UAAU,EAAE,SAAS,SAAS,GAAG;AAC1C,qBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;GAC7C,CAAC,CAAC;AACH,QAAM,CAAC,WAAW,CAAC,UAAU,EAAE,SAAS,UAAU,GAAG;AACnD,UAAM,CAAC,aAAa,EAAE,CAAC;GACxB,EAAE,MAAM,CAAC,CAAC;;AAEX,QAAM,CAAC,WAAW,CAAC,YAAY,EAAE,SAAS,YAAY,GAAG;AACvD,UAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,wBAAwB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;GACvE,EAAE,MAAM,CAAC,CAAC;;AAEX,QAAM,CAAC,UAAU,CAAC,IAAI,CAAC,YAAW;AAChC,UAAM,CAAC,aAAa,EAAE,CAAC;AACvB,UAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,wBAAwB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;GACvE,CAAC,CAAC;CACJ,CACF,CAAC,CAAC","file":"helpCtrl.js","sourcesContent":["'use strict';\n\nangular.module('clickApp.controllers')\n  .controller('gameHelpCtrl', [\n    '$scope',\n    'game',\n    'modes',\n    'fileExport',\n    function($scope,\n             gameService,\n             modesService,\n             fileExportService) {\n      console.log('init gameHelpCtrl');\n\n      $scope.debug = {\n        name: 'clicknfeat_debug.json',\n        url: null\n      };\n      $scope.updateExports = function updateExports() {\n        fileExportService.cleanup($scope.debug.url);\n        fileExportService.generate('json', {\n          settings: $scope.settings.current,\n          game: $scope.game\n        }).then(function(url) {\n          $scope.debug.url = url;\n          $scope.$digest();\n        });\n      };\n      $scope.$on('$destroy', function onDestroy() {\n        fileExportService.cleanup($scope.debug.url);\n      });\n      $scope.onGameEvent('saveGame', function onSaveGame() {\n        $scope.updateExports();\n      }, $scope);\n\n      $scope.onGameEvent('switchMode', function onSwitchMode() {\n        $scope.bindings = modesService.currentModeBindingsPairs($scope.modes);\n      }, $scope);\n\n      $scope.onGameLoad.then(function() {\n        $scope.updateExports();\n        $scope.bindings = modesService.currentModeBindingsPairs($scope.modes);\n      });\n    }\n  ]);\n"]}