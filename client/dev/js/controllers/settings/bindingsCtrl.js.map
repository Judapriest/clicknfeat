{"version":3,"sources":["../../../es6/controllers/settings/bindingsCtrl.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,MAAM,CAAC,sBAAsB,CAAC,CACnC,UAAU,CAAC,sBAAsB,EAAE,CAClC,QAAQ,EACR,UAAS,MAAM,EAAE;AACf,SAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;;AAEzC,QAAM,CAAC,UAAU,CACd,IAAI,CAAC,YAAM;AACV,UAAM,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AAClE,UAAM,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;GACpC,CAAC,CAAC;AACL,QAAM,CAAC,eAAe,GAAG,UAAC,IAAI,EAAK;AACjC,WAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;GACjE,CAAC;;AAEF,QAAM,CAAC,eAAe,GAAG,SAAS,eAAe,CAAC,MAAM,EAAE;AACxD,QAAG,MAAM,CAAC,SAAS,EAAE,OAAO;;AAE5B,WAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAC7B,UAAM,CAAC,SAAS,GAAG,MAAM,CAAC;;AAE1B,aAAS,CAAC,MAAM,CAAC,SAAS,eAAe,CAAC,GAAG,EAAE;AAC7C,aAAO,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;;AAEjC,YAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACtE,YAAM,CAAC,gBAAgB,EAAE,CAAC;AAC1B,YAAM,CAAC,SAAS,GAAG,IAAI,CAAC;;AAExB,YAAM,CAAC,OAAO,EAAE,CAAC;KAClB,CAAC,CAAC;GACJ,CAAC;CACH,CACF,CAAC,CAAC","file":"bindingsCtrl.js","sourcesContent":["angular.module('clickApp.controllers')\n  .controller('settingsBindingsCtrl', [\n    '$scope',\n    function($scope) {\n      console.log('init settingsBindingsCtrl');\n\n      $scope.data_ready\n        .then(() => {\n          $scope.modes = R.keys($scope.settings.default['Bindings']).sort();\n          $scope.mode = R.head($scope.modes);\n        });\n      $scope.getBindingsKeys = (mode) => {\n        return R.keys($scope.settings.default['Bindings'][mode]).sort();\n      };\n      \n      $scope.doRecordBinding = function doRecordBinding(action) {\n        if($scope.recording) return;\n        \n        console.log('recording seq');\n        $scope.recording = action;\n        \n        Mousetrap.record(function mousetrapRecord(seq) {\n          console.log('seq recorded', seq);\n\n          $scope.settings.current.Bindings[$scope.mode][action] = seq.join(' ');\n          $scope.doUpdateSettings();\n          $scope.recording = null;\n\n          $scope.$digest();\n        });\n      };\n    }\n  ]);\n"]}