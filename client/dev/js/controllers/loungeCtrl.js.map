{"version":3,"sources":["../../es6/controllers/loungeCtrl.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,MAAM,CAAC,sBAAsB,CAAC,CACnC,UAAU,CAAC,YAAY,EAAE,CACxB,QAAQ,EACR,UAAS,MAAM,EAAE;AACf,SAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;;AAE/B,QAAM,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,UAAC,KAAK,EAAE,EAAE,EAAK;AAC3D,UAAM,CAAC,SAAS,CAAC,WAAW,EAAE;AAC5B,YAAM,EAAE,SAAS;AACjB,aAAO,EAAE,SAAS;AAClB,QAAE,EAAE,EAAE;KACP,CAAC,CAAC;AACH,UAAM,CAAC,OAAO,EAAE,CAAC;GAClB,EAAE,MAAM,CAAC,CAAC;;AAEX,QAAM,CAAC,qBAAqB,GAAG,EAAE,CAAC;AAClC,QAAM,CAAC,wBAAwB,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;AAC9D,QAAM,CAAC,iBAAiB,GAAG,YAAM;AAC/B,UAAM,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;GACzC,CAAC;AACF,QAAM,CAAC,eAAe,GAAG,YAAW;AAClC,QAAI,EAAE,GAAG,CAAC,CAAC,IAAI,CACb,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,EAClC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAC3C,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CACtB,EAAE,CAAC;AACJ,WAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACxF,UAAM,CAAC,UAAU,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;GAC3C,CAAC;AACF,QAAM,CAAC,mBAAmB,GAAG,UAAS,KAAK,EAAE;AAC3C,UAAM,CAAC,UAAU,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;GACrD,CAAC;AACF,QAAM,CAAC,iBAAiB,GAAG,YAAW;AACpC,QAAI,EAAE,GAAG,CAAC,CAAC,IAAI,CACb,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,EAClC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAC3C,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CACtB,EAAE,CAAC;AACJ,UAAM,CAAC,UAAU,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC;GAC7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAC,AAsCF,QAAM,CAAC,kBAAkB,GAAG,YAAW;AACrC,UAAM,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;GACxC,CAAC;CACH,CACF,CAAC,CAAC","file":"loungeCtrl.js","sourcesContent":["angular.module('clickApp.controllers')\n  .controller('loungeCtrl', [\n    '$scope',\n    function($scope) {\n      console.log('init loungeCtrl');\n\n      $scope.onStateChangeEvent('Games.local.load', (event, id) => {\n        $scope.goToState('game.main', {\n          online: 'offline',\n          private: 'private',\n          id: id\n        });\n        $scope.$digest();\n      }, $scope);\n\n      $scope.local_games_selection = {};\n      $scope.digestOnStateChangeEvent('Games.local.change', $scope);\n      $scope.doCreateLocalGame = () => {\n        $scope.stateEvent('Games.local.create');\n      };\n      $scope.doLoadLocalGame = function() {\n        let id = R.pipe(\n          R.always($scope.state.local_games),\n          R.nth($scope.local_games_selection.list[0]),\n          R.prop('local_stamp')\n        )();\n        console.log('load', $scope.state.local_games, $scope.local_games_selection.list[0], id);\n        $scope.stateEvent('Games.local.load', id);\n      };\n      $scope.doOpenLocalGameFile = function(files) {\n        $scope.stateEvent('Games.local.loadFile', files[0]);\n      };\n      $scope.doDeleteLocalGame = function() {\n        let id = R.pipe(\n          R.always($scope.state.local_games),\n          R.nth($scope.local_games_selection.list[0]),\n          R.prop('local_stamp')\n        )();\n        $scope.stateEvent('Games.local.delete', id);\n      };\n\n      // $scope.online_games_selection = {};\n      // function loadNewOnlineGame(game) {\n      //   return R.pipeP(\n      //     gamesService.newOnlineGame,\n      //     function(game) {\n      //       $scope.goToState('game', {\n      //         online: 'online',\n      //         private: 'private',\n      //         id: game.private_stamp,\n      //       });\n      //     }\n      //   )(game);\n      // }\n      // $scope.doCreateOnlineGame = function() {\n      //   var game = gameService.create($scope.user.state);\n      //   return loadNewOnlineGame(game);\n      // };\n      // $scope.doOpenOnlineGameFile = function(files) {\n      //   return R.pipeP(\n      //     fileImportService.read$('json'),\n      //     loadNewOnlineGame\n      //   )(files[0])\n      //     .catch(function() {\n      //       console.log('Failed to open online game file');\n      //     });\n      // };\n      // $scope.doLoadOnlineGame = function() {\n      //   var game_index = $scope.online_games_selection.list[0];\n      //   var stamp = R.propOr('null', 'public_stamp', $scope.user.connection.games[game_index]);\n      //   $scope.goToState('game', {\n      //     online: 'online',\n      //     private: 'public',\n      //     id: stamp\n      //   });\n      // };\n\n      $scope.doUserToggleOnline = function() {\n        $scope.stateEvent('User.toggleOnline');\n      };\n    }\n  ]);\n"]}