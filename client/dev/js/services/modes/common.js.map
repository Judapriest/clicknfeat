{"version":3,"sources":["../../../es6/services/modes/common.js"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["'use strict';\n\nangular.module('clickApp.services')\n  .factory('commonMode', [\n    'modes',\n    'settings',\n    'game',\n    function commonModeServiceFactory(modesService,\n                                      settingsService,\n                                      gameService) {\n      var common_actions = {\n        modeBackToDefault: function modeBackToDefault(scope) {\n          return scope.doSwitchToMode('Default');\n        },\n        commandUndoLast: function commandUndoLast(scope) {\n          return gameService.undoLastCommand(scope, scope.game);\n        },\n        commandReplayNext: function commandReplayNext(scope) {\n          return gameService.replayNextCommand(scope, scope.game);\n        },\n        viewScrollLeft: function viewZoomLeft(scope) {\n          scope.gameEvent('viewScrollLeft');\n        },\n        viewScrollRight: function viewZoomRight(scope) {\n          scope.gameEvent('viewScrollRight');\n        },\n        viewScrollUp: function viewZoomUp(scope) {\n          scope.gameEvent('viewScrollUp');\n        },\n        viewScrollDown: function viewZoomDown(scope) {\n          scope.gameEvent('viewScrollDown');\n        },\n        viewZoomIn: function viewZoomIn(scope) {\n          scope.gameEvent('viewZoomIn');\n        },\n        viewZoomOut: function viewZoomOut(scope) {\n          scope.gameEvent('viewZoomOut');\n        },\n        viewZoomReset: function viewZoomReset(scope) {\n          scope.gameEvent('viewZoomReset');\n        },\n        flipMap: function flipMap(scope) {\n          scope.gameEvent('flipMap');\n        },\n        toggleMenu: function toggleMenu(scope) {\n          scope.gameEvent('toggleMenu');\n        },\n        roll1D6: function roll1D6(scope) {\n          return gameService.executeCommand('rollDice',\n                                            6, 1,\n                                            scope, scope.game);\n        },\n        roll2D6: function roll2D6(scope) {\n          return gameService.executeCommand('rollDice',\n                                            6, 2,\n                                            scope, scope.game);\n        },\n        roll3D6: function roll3D6(scope) {\n          return gameService.executeCommand('rollDice',\n                                            6, 3,\n                                            scope, scope.game);\n        },\n        roll4D6: function roll4D6(scope) {\n          return gameService.executeCommand('rollDice',\n                                            6, 4,\n                                            scope, scope.game);\n        },\n        roll5D6: function roll5D6(scope) {\n          return gameService.executeCommand('rollDice',\n                                            6, 5,\n                                            scope, scope.game);\n        },\n      };\n      var common_bindings = {\n        commandUndoLast: 'ctrl+z',\n        commandReplayNext: 'ctrl+y',\n        modeBackToDefault: 'esc',\n        viewScrollLeft: 'alt+left',\n        viewScrollRight: 'alt+right',\n        viewScrollUp: 'alt+up',\n        viewScrollDown: 'alt+down',\n        viewZoomIn: 'alt++',\n        viewZoomOut: 'alt+-',\n        viewZoomReset: 'alt+z',\n        flipMap: 'ctrl+shift+f',\n        toggleMenu: 'ctrl+shift+m',\n        // roll1D6: 'd+1',\n        // roll2D6: 'd+2',\n        // roll3D6: 'd+3',\n        // roll4D6: 'd+4',\n        // roll5D6: 'd+5',\n      };\n      var common_mode = {\n        name: 'Common',\n        actions: common_actions,\n        buttons: [],\n        bindings: R.clone(common_bindings),\n      };\n      settingsService.register('Bindings',\n                               common_mode.name,\n                               common_bindings,\n                               function updateCommonBindings(bs) {\n                                 R.extend(common_mode.bindings, bs);\n                               });\n      return common_mode;\n    }\n  ]);\n"]}