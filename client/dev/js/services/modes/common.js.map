{"version":3,"sources":["../../../es6/services/modes/common.js"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["angular.module('clickApp.services')\n  .factory('commonMode', [\n    'modes',\n    'settings',\n    'game',\n    function commonModeServiceFactory(modesService,\n                                      settingsService) {\n      var common_actions = {\n        modeBackToDefault: (state) => {\n          return state.event('Modes.switchTo', 'Default');\n        },\n        commandUndoLast: (state) => {\n          return state.event('Game.command.undoLast');\n        },\n        commandReplayNext: (state) => {\n          return state.event('Game.command.replayNext');\n        },\n        viewScrollLeft: (state) => {\n          state.changeEvent('Game.view.scrollLeft');\n        },\n        viewScrollRight: (state) => {\n          state.changeEvent('Game.view.scrollRight');\n        },\n        viewScrollUp: (state) => {\n          state.changeEvent('Game.view.scrollUp');\n        },\n        viewScrollDown: (state) => {\n          state.changeEvent('Game.view.scrollDown');\n        },\n        viewZoomIn: (state) => {\n          state.changeEvent('Game.view.zoomIn');\n        },\n        viewZoomOut: (state) => {\n          state.changeEvent('Game.view.zoomOut');\n        },\n        viewZoomReset: (state) => {\n          state.changeEvent('Game.view.zoomReset');\n        },\n        flipMap: (state) => {\n          state.changeEvent('Game.view.flipMap');\n        },\n        toggleMenu: (state) => {\n          state.changeEvent('Game.toggleMenu');\n        },\n        roll1D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 1]);\n        },\n        roll2D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 2]);\n        },\n        roll3D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 3]);\n        },\n        roll4D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 4]);\n        },\n        roll5D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 5]);\n        }\n      };\n      var common_bindings = {\n        commandUndoLast: 'ctrl+z',\n        commandReplayNext: 'ctrl+y',\n        modeBackToDefault: 'esc',\n        viewScrollLeft: 'alt+left',\n        viewScrollRight: 'alt+right',\n        viewScrollUp: 'alt+up',\n        viewScrollDown: 'alt+down',\n        viewZoomIn: 'alt++',\n        viewZoomOut: 'alt+-',\n        viewZoomReset: 'alt+z',\n        flipMap: 'ctrl+shift+f',\n        toggleMenu: 'ctrl+shift+m'\n        // roll1D6: 'd+1',\n        // roll2D6: 'd+2',\n        // roll3D6: 'd+3',\n        // roll4D6: 'd+4',\n        // roll5D6: 'd+5',\n      };\n      var common_mode = {\n        name: 'Common',\n        actions: common_actions,\n        buttons: [],\n        bindings: R.clone(common_bindings)\n      };\n      settingsService.register('Bindings',\n                               common_mode.name,\n                               common_bindings,\n                               (bs) => {\n                                 R.extend(common_mode.bindings, bs);\n                               });\n      return common_mode;\n    }\n  ]);\n"]}