{"version":3,"sources":["../../../es6/services/command/setModelSelection.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAChC,OAAO,CAAC,0BAA0B,EAAE,CACnC,UAAU,EACV,oBAAoB,EACpB,SAAS,sCAAsC,CAAC,eAAe,EACf,yBAAyB,EAAE;AACzE,MAAI,+BAA+B,GAAG;AACpC,WAAO,EAAE,SAAS,wBAAwB,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE;AACtE,UAAG,UAAU,KAAK,CAAC,CAAC,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,EAAE;AAC3D,eAAO,IAAI,CAAC,OAAO,CAChB,MAAM,uCAAqC,MAAM,CAAG,CAAC;OACzD;;AAED,UAAI,SAAS,GAAG,yBAAyB,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,MAAM,EACf,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;AAC/E,UAAI,GAAG,CAAC,CAAC,KAAK,CAAC,iBAAiB,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;;AAEnD,UAAI,IAAI,GAAG;AACT,aAAK,EAAE,yBAAyB,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC;AACnE,YAAI,EAAE,EAAE;AACR,kBAAU,EAAE,IAAI;OACjB,CAAC;AACF,aAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KACrB;AACD,UAAM,EAAE,SAAS,uBAAuB,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;AAC1D,UAAI,SAAS,GAAG,yBAAyB,CAClC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;AAC9D,UAAI,GAAG,CAAC,CAAC,KAAK,CAAC,iBAAiB,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AACnD,aAAO,IAAI,CAAC;KACb;AACD,QAAI,EAAE,SAAS,qBAAqB,GAAG;AACrC,aAAO,IAAI,CAAC,OAAO,CAChB,MAAM,CAAC,uCAAuC,CAAC,CAAC;KACpD;GACF,CAAC;AACF,iBAAe,CAAC,eAAe,CAAC,mBAAmB,EAAE,+BAA+B,CAAC,CAAC;AACtF,SAAO,+BAA+B,CAAC;CACxC,CACF,CAAC,CAAC","file":"setModelSelection.js","sourcesContent":["'use strict';\n\nangular.module('clickApp.services')\n  .factory('setModelSelectionCommand', [\n    'commands',\n    'gameModelSelection',\n    function setModelSelectionCommandServiceFactory(commandsService,\n                                                    gameModelSelectionService) {\n      var setModelSelectionCommandService = {\n        execute: function setModelSelectionExecute(method, stamps, state, game) {\n          if('Function' !== R.type(gameModelSelectionService[method])) {\n            return self.Promise\n              .reject(`SetModelSelection unknown method ${method}`);\n          }\n\n          let selection = gameModelSelectionService[method]('local', stamps,\n                                                            state, game.model_selection);\n          game = R.assoc('model_selection', selection, game);\n\n          var ctxt = {\n            after: gameModelSelectionService.get('local', game.model_selection),\n            desc: '',\n            do_not_log: true\n          };\n          return [ctxt, game];\n        },\n        replay: function setModelSelectionReplay(ctxt, state, game) {\n          let selection = gameModelSelectionService\n                .set('remote', ctxt.after, state, game.model_selection);\n          game = R.assoc('model_selection', selection, game);\n          return game;\n        },\n        undo: function setModelSelectionUndo() {\n          return self.Promise\n            .reject('!!! ERROR : WE SHOULD NOT BE HERE !!!');\n        }\n      };\n      commandsService.registerCommand('setModelSelection', setModelSelectionCommandService);\n      return setModelSelectionCommandService;\n    }\n  ]);\n"]}