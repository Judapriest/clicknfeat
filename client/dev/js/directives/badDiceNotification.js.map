{"version":3,"sources":["../../es6/directives/badDiceNotification.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAClC,SAAS,CAAC,0BAA0B,EAAE,CACrC,YAAW;AACT,SAAO;AACL,YAAQ,EAAE,GAAG;AACb,YAAQ,EAAE,CACR,iDAAiD,EACjD,UAAU,CACX,CAAC,IAAI,CAAC,EAAE,CAAC;AACV,QAAI,EAAE,cAAS,KAAK,EAAE,mBAAO,EAAa;AACxC,UAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,WAAK,CAAC,WAAW,CAAC,UAAU,EAAE,UAAC,KAAK,EAAE,IAAI,EAAK;AAC7C,YAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO;AACzB,YAAI,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;AACnC,YAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,OAAO;AAC9B,YAAI,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACrD,eAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;AACzC,YAAG,IAAI,IAAI,CAAC,EAAE,OAAO;;AAErB,aAAK,CAAC,WAAW,GAAG,CAAC,CAAC;AACtB,aAAK,CAAC,IAAI,EAAE,CAAC;OACd,EAAE,KAAK,CAAC,CAAC;KACX;GACF,CAAC;CACH,CACF,CAAC,CAAC","file":"badDiceNotification.js","sourcesContent":["angular.module('clickApp.directives')\n  .directive('clickBadDiceNotification', [\n    function() {\n      return {\n        restrict: 'E',\n        template: [\n          '<audio src=\"/data/sound/naindows-hahaha02.wav\">',\n          '</audio>',\n        ].join(''),\n        link: function(scope, element/*, attrs*/) {\n          let audio = element[0].querySelector('audio');\n          scope.onGameEvent('diceRoll', (event, ctxt) => {\n            if(R.isNil(ctxt)) return;\n            let dice = R.propOr([], 'd', ctxt);\n            if(R.length(dice) < 2) return;\n            let mean = R.reduce(R.add, 0, dice) / R.length(dice);\n            console.log('badDiceNotification', mean);\n            if(mean >= 2) return;\n            \n            audio.currentTime = 0;\n            audio.play();\n          }, scope);\n        }\n      };\n    }\n  ]);\n"]}