{"version":3,"sources":["../../es6/directives/gameWarnMode.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAClC,SAAS,CAAC,mBAAmB,EAAE,CAC9B,SAAS,EACT,UAAU,EACV,UAAS,OAAO,EACP,QAAQ,EAAE;AACjB,SAAO;AACL,YAAQ,EAAE,GAAG;AACb,QAAI,EAAE,UAAS,KAAK,EAAE,mBAAO,EAAa;AACxC,aAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;AAC5B,aAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AAClC,UAAI,SAAS,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;AAC5D,UAAI,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;;AAE3D,UAAI,OAAO,CAAC;AACZ,WAAK,CAAC,WAAW,CAAC,iBAAiB,EAAE,SAAS,iBAAiB,CAAC,KAAK,EAAE,MAAM,EAAE;AAC7E,YAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;AAE/C,iBAAS,CAAC,SAAS,GAAG,KAAK,CAAC,eAAe,EAAE,CAAC;AAC9C,mBAAW,CAAC,SAAS,GAAG,MAAM,CAAC;;AAE/B,eAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC;AACrC,eAAO,GAAG,QAAQ,CAAC,SAAS,YAAY,GAAG;AACzC,iBAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AAClC,iBAAO,GAAG,IAAI,CAAC;SAChB,EAAE,GAAG,CAAC,CAAC;OACT,EAAE,KAAK,CAAC,CAAC;KACX;GACF,CAAC;CACH,CACF,CAAC,CAAC","file":"gameWarnMode.js","sourcesContent":["'use strict';\n\nangular.module('clickApp.directives')\n  .directive('clickGameWarnMode', [\n    '$window',\n    '$timeout',\n    function($window,\n             $timeout) {\n      return {\n        restrict: 'A',\n        link: function(scope, element/*, attrs*/) {\n          console.log('gameWarnMode');\n          element[0].style.display = 'none';\n          var mode_span = element[0].querySelector('.warn-mode-name');\n          var reason_span = element[0].querySelector('.warn-reason');\n\n          var timeout;\n          scope.onGameEvent('modeActionError', function onModeActionError(event, reason) {\n            if(R.exists(timeout)) $timeout.cancel(timeout);\n            \n            mode_span.innerHTML = scope.currentModeName();\n            reason_span.innerHTML = reason;\n\n            element[0].style.display = 'initial';\n            timeout = $timeout(function hideWarnMode() {\n              element[0].style.display = 'none';\n              timeout = null;\n            }, 500);\n          }, scope);\n        }\n      };\n    }\n  ]);\n"]}