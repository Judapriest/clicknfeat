{"version":3,"sources":["../../es6/directives/gameWarnMode.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAClC,SAAS,CAAC,mBAAmB,EAAE,CAC9B,UAAU,EACV,UAAS,QAAQ,EAAE;AACjB,SAAO;AACL,YAAQ,EAAE,GAAG;AACb,QAAI,EAAE,cAAS,KAAK,EAAE,OAAO,EAAE;AAC7B,aAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;AAC5B,aAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;;AAElC,UAAI,SAAS,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;AAC5D,UAAI,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;;AAE3D,UAAI,OAAO,CAAC;AACZ,WAAK,CAAC,kBAAkB,CAAC,mBAAmB,EAAE,UAAC,KAAK,EAAE,MAAM,EAAK;AAC/D,YAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;AAE/C,iBAAS,CAAC,SAAS,GAAG,KAAK,CAAC,eAAe,EAAE,CAAC;AAC9C,mBAAW,CAAC,SAAS,GAAG,MAAM,CAAC;;AAE/B,eAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC;AACrC,eAAO,GAAG,QAAQ,CAAC,YAAM;AACvB,iBAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AAClC,iBAAO,GAAG,IAAI,CAAC;SAChB,EAAE,IAAI,CAAC,CAAC;OACV,EAAE,KAAK,CAAC,CAAC;KACX;GACF,CAAC;CACH,CACF,CAAC,CAAC","file":"gameWarnMode.js","sourcesContent":["angular.module('clickApp.directives')\n  .directive('clickGameWarnMode', [\n    '$timeout',\n    function($timeout) {\n      return {\n        restrict: 'A',\n        link: function(scope, element) {\n          console.log('gameWarnMode');\n          element[0].style.display = 'none';\n\n          var mode_span = element[0].querySelector('.warn-mode-name');\n          var reason_span = element[0].querySelector('.warn-reason');\n\n          var timeout;\n          scope.onStateChangeEvent('Game.action.error', (event, reason) => {\n            if(R.exists(timeout)) $timeout.cancel(timeout);\n\n            mode_span.innerHTML = scope.currentModeName();\n            reason_span.innerHTML = reason;\n\n            element[0].style.display = 'initial';\n            timeout = $timeout(() => {\n              element[0].style.display = 'none';\n              timeout = null;\n            }, 1000);\n          }, scope);\n        }\n      };\n    }\n  ]);\n"]}