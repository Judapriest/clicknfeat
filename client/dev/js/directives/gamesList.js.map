{"version":3,"sources":["../../es6/directives/gamesList.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAClC,UAAU,CAAC,eAAe,EAAE,CAC3B,QAAQ,EACR,SAAS,kBAAkB,CAAC,MAAM,EAAE;AAClC,SAAO,CAAC,GAAG,CAAC,eAAe,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;;AAE3C,QAAM,CAAC,SAAS,CAAC,IAAI,GAAG,EAAE,CAAC;AAC3B,QAAM,CAAC,aAAa,GAAG,UAAC,KAAK,EAAK;AAChC,WAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;GACjE,CAAC;AACF,QAAM,CAAC,gBAAgB,GAAG,YAAM;AAC9B,WAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;GACzC,CAAC;AACF,WAAS,YAAY,CAAC,KAAK,EAAE;AAC3B,KAAC,CAAC,IAAI,CACJ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAC1C,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EACd,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC,EAC/B,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EACR,UAAC,KAAK,EAAK;AACT,YAAM,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC;KACjC,CACF,CAAC,KAAK,CAAC,CAAC;GACV;AACD,QAAM,CAAC,cAAc,GAAG,UAAC,KAAK,EAAK;AACjC,QAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IACxB,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,YAAY,KAAK,MAAM,CAAC,OAAO,EAAE,OAAO;;AAE/D,gBAAY,CAAC,KAAK,CAAC,CAAC;GACrB,CAAC;AACF,QAAM,CAAC,MAAM,CAAC,OAAO,EAAE,YAAM;AAAE,gBAAY,EAAE,CAAC;GAAE,CAAC,CAAC;CACnD,CACF,CAAC,CACD,SAAS,CAAC,gBAAgB,EAAE,CAC3B,YAAW;AACT,SAAO;AACL,YAAQ,EAAE,GAAG;AACb,cAAU,EAAE,eAAe;AAC3B,eAAW,EAAE,qCAAqC;AAClD,SAAK,EAAE;AACL,WAAK,EAAE,GAAG;AACV,eAAS,EAAE,GAAG;AACd,aAAO,EAAE,GAAG;KACb;AACD,QAAI,EAAE,gBAAM,EAAG;GAChB,CAAC;CACH,CACF,CAAC,CAAC","file":"gamesList.js","sourcesContent":["angular.module('clickApp.directives')\n  .controller('gamesListCtrl', [\n    '$scope',\n    function userConnectionCtrl($scope) {\n      console.log('gamesListCtrl', $scope.games);\n\n      $scope.selection.list = [];\n      $scope.isInSelection = (index) => {\n        return R.exists(R.find(R.equals(index), $scope.selection.list));\n      };\n      $scope.selectionIsEmpty = () => {\n        return R.isEmpty($scope.selection.list);\n      };\n      function setSelection(index) {\n        R.pipe(\n          R.defaultTo(R.head($scope.selection.list)),\n          R.defaultTo(0),\n          R.min(R.length($scope.games)-1),\n          R.max(0),\n          (index) => {\n            $scope.selection.list = [index];\n          }\n        )(index);\n      }\n      $scope.doSetSelection = (index) => {\n        if(R.exists($scope.current) &&\n           $scope.games[index].public_stamp === $scope.current) return;\n\n        setSelection(index);\n      };\n      $scope.$watch('games', () => { setSelection(); });\n    }\n  ])\n  .directive('clickGamesList', [\n    function() {\n      return {\n        restrict: 'E',\n        controller: 'gamesListCtrl',\n        templateUrl: 'partials/directives/games_list.html',\n        scope: {\n          games: '=',\n          selection: '=',\n          current: '='\n        },\n        link: () => { }\n      };\n    }\n  ]);\n"]}