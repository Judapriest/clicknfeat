{"version":3,"sources":["../../es6/directives/mailNotification.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAClC,SAAS,CAAC,2BAA2B,EAAE,CACtC,YAAW;AACT,SAAO;AACL,YAAQ,EAAE,GAAG;AACb,YAAQ,EAAE,CACR,4CAA4C,EAC5C,UAAU,CACX,CAAC,IAAI,CAAC,EAAE,CAAC;AACV,QAAI,EAAE,cAAS,KAAK,EAAE,OAAO,EAAE;AAC7B,UAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,WAAK,CAAC,kBAAkB,CAAC,WAAW,EAAE,UAAC,KAAK,EAAE,IAAI,EAAK;AACrD,eAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;AACjD,YAAG,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,OAAO;;AAEtD,aAAK,CAAC,WAAW,GAAG,CAAC,CAAC;AACtB,aAAK,CAAC,IAAI,EAAE,CAAC;OACd,EAAE,KAAK,CAAC,CAAC;KACX;GACF,CAAC;CACH,CACF,CAAC,CACD,SAAS,CAAC,2BAA2B,EAAE,CACtC,YAAW;AACT,SAAO;AACL,YAAQ,EAAE,GAAG;AACb,YAAQ,EAAE,CACR,4CAA4C,EAC5C,UAAU,CACX,CAAC,IAAI,CAAC,EAAE,CAAC;AACV,QAAI,EAAE,cAAS,KAAK,EAAE,OAAO,EAAE;AAC7B,UAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,WAAK,CAAC,kBAAkB,CAAC,WAAW,EAAE,UAAC,KAAK,EAAE,IAAI,EAAK;AACrD,eAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;AACjD,YAAG,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO;;AAErD,aAAK,CAAC,WAAW,GAAG,CAAC,CAAC;AACtB,aAAK,CAAC,IAAI,EAAE,CAAC;OACd,EAAE,KAAK,CAAC,CAAC;KACX;GACF,CAAC;CACH,CACF,CAAC,CAAC","file":"mailNotification.js","sourcesContent":["angular.module('clickApp.directives')\n  .directive('clickUserMailNotification', [\n    function() {\n      return {\n        restrict: 'E',\n        template: [\n          '<audio src=\"/data/sound/you_got_mail.wav\">',\n          '</audio>',\n        ].join(''),\n        link: function(scope, element) {\n          let audio = element[0].querySelector('audio');\n          scope.onStateChangeEvent('User.chat', (event, chat) => {\n            console.log('userMailNotification', event, chat);\n            if(chat.from === scope.state.user.state.stamp) return;\n\n            audio.currentTime = 0;\n            audio.play();\n          }, scope);\n        }\n      };\n    }\n  ])\n  .directive('clickGameMailNotification', [\n    function() {\n      return {\n        restrict: 'E',\n        template: [\n          '<audio src=\"/data/sound/you_got_mail.wav\">',\n          '</audio>',\n        ].join(''),\n        link: function(scope, element) {\n          let audio = element[0].querySelector('audio');\n          scope.onStateChangeEvent('Game.chat', (event, chat) => {\n            console.log('gameMailNotification', event, chat);\n            if(chat.from === scope.state.user.state.name) return;\n\n            audio.currentTime = 0;\n            audio.play();\n          }, scope);\n        }\n      };\n    }\n  ]);\n"]}