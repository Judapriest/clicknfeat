{"version":3,"sources":["mailNotification.es6"],"names":[],"mappings":";;AAAA,QAAQ,MAAR,CAAe,qBAAf,EACG,SADH,CACa,2BADb,EAC0C,CACtC,YAAW;AACT,SAAO;AACL,cAAU,GAAV;AACA,cAAU,CACR,4CADQ,EAER,UAFQ,EAGR,IAHQ,CAGH,EAHG,CAAV;AAIA,UAAM,cAAS,KAAT,EAAgB,OAAhB,EAAyB;AAC7B,UAAI,QAAQ,QAAQ,CAAR,EAAW,aAAX,CAAyB,OAAzB,CAAR,CADyB;AAE7B,YAAM,kBAAN,CAAyB,WAAzB,EAAsC,UAAC,KAAD,EAAQ,IAAR,EAAiB;AACrD,gBAAQ,GAAR,CAAY,sBAAZ,EAAoC,KAApC,EAA2C,IAA3C,EADqD;AAErD,YAAG,KAAK,IAAL,KAAc,MAAM,KAAN,CAAY,IAAZ,CAAiB,KAAjB,CAAuB,KAAvB,EAA8B,OAA/C;;AAEA,cAAM,WAAN,GAAoB,CAApB,CAJqD;AAKrD,cAAM,IAAN,GALqD;OAAjB,EAMnC,KANH,EAF6B;KAAzB;GANR,CADS;CAAX,CAFJ,EAsBG,SAtBH,CAsBa,2BAtBb,EAsB0C,CACtC,YAAW;AACT,SAAO;AACL,cAAU,GAAV;AACA,cAAU,CACR,4CADQ,EAER,UAFQ,EAGR,IAHQ,CAGH,EAHG,CAAV;AAIA,UAAM,cAAS,KAAT,EAAgB,OAAhB,EAAyB;AAC7B,UAAI,QAAQ,QAAQ,CAAR,EAAW,aAAX,CAAyB,OAAzB,CAAR,CADyB;AAE7B,YAAM,kBAAN,CAAyB,WAAzB,EAAsC,UAAC,KAAD,EAAQ,IAAR,EAAiB;AACrD,gBAAQ,GAAR,CAAY,sBAAZ,EAAoC,KAApC,EAA2C,IAA3C,EADqD;AAErD,YAAG,KAAK,IAAL,KAAc,MAAM,KAAN,CAAY,IAAZ,CAAiB,KAAjB,CAAuB,IAAvB,EAA6B,OAA9C;;AAEA,cAAM,WAAN,GAAoB,CAApB,CAJqD;AAKrD,cAAM,IAAN,GALqD;OAAjB,EAMnC,KANH,EAF6B;KAAzB;GANR,CADS;CAAX,CAvBJ","file":"mailNotification.js","sourcesContent":["angular.module('clickApp.directives')\n  .directive('clickUserMailNotification', [\n    function() {\n      return {\n        restrict: 'E',\n        template: [\n          '<audio src=\"/data/sound/you_got_mail.wav\">',\n          '</audio>',\n        ].join(''),\n        link: function(scope, element) {\n          let audio = element[0].querySelector('audio');\n          scope.onStateChangeEvent('User.chat', (event, chat) => {\n            console.log('userMailNotification', event, chat);\n            if(chat.from === scope.state.user.state.stamp) return;\n\n            audio.currentTime = 0;\n            audio.play();\n          }, scope);\n        }\n      };\n    }\n  ])\n  .directive('clickGameMailNotification', [\n    function() {\n      return {\n        restrict: 'E',\n        template: [\n          '<audio src=\"/data/sound/you_got_mail.wav\">',\n          '</audio>',\n        ].join(''),\n        link: function(scope, element) {\n          let audio = element[0].querySelector('audio');\n          scope.onStateChangeEvent('Game.chat', (event, chat) => {\n            console.log('gameMailNotification', event, chat);\n            if(chat.from === scope.state.user.state.name) return;\n\n            audio.currentTime = 0;\n            audio.play();\n          }, scope);\n        }\n      };\n    }\n  ]);\n"]}