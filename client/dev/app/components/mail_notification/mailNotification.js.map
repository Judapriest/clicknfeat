{"version":3,"sources":["mailNotification.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,qBAAf,EACG,SADH,CACa,uBADb,EACsC,gCADtC,EADU;;AAIV,mCAAiC,OAAjC,GAA2C,CACzC,YADyC,EAEzC,SAFyC,EAGzC,SAHyC,CAA3C,CAJU;AASV,WAAS,gCAAT,CAA0C,UAA1C,EAC0C,cAD1C,EAE0C,cAF1C,EAE0D;AACxD,QAAM,WAAW;AACf,YAAM,cAAN;AACA,YAAM,cAAN;KAFI,CADkD;AAKxD,WAAO;AACL,gBAAU,GAAV;AACA,aAAO,EAAE,MAAM,GAAN,EAAT;AACA,mBAAa,yDAAb;AACA,YAAM,IAAN;KAJF,CALwD;;AAYxD,aAAS,IAAT,CAAc,KAAd,EAAqB,OAArB,EAA8B;AAC5B,UAAM,QAAQ,QAAQ,CAAR,EAAW,aAAX,CAAyB,OAAzB,CAAR,CADsB;AAE5B,iBAAW,YAAX,CAAwB,MAAxB,EAAgC,SAAS,MAAM,IAAN,CAAT,CAAqB,IAArB,CAA0B,QAA1B,EAAoC,KAApE,EAF4B;;AAI5B,eAAS,MAAT,GAAkB;AAChB,gBAAQ,IAAR,CAAgB,MAAM,IAAN,qBAAhB,EADgB;AAEhB,cAAM,WAAN,GAAoB,CAApB,CAFgB;AAGhB,cAAM,IAAN,GAHgB;OAAlB;KAJF;GAdF;CATD,CAAD","file":"mailNotification.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .directive('clickMailNotification', mailNotificationDirectiveFactory);\n\n  mailNotificationDirectiveFactory.$inject = [\n    '$rootScope',\n    'appGame',\n    'appUser',\n  ];\n  function mailNotificationDirectiveFactory($rootScope,\n                                            appGameService,\n                                            appUserService) {\n    const services = {\n      game: appGameService,\n      user: appUserService\n    };\n    return {\n      restrict: 'E',\n      scope: { type: '@' },\n      templateUrl: 'app/components/mail_notification/mail_notification.html',\n      link: link\n    };\n\n    function link(scope, element) {\n      const audio = element[0].querySelector('audio');\n      $rootScope.listenSignal(onChat, services[scope.type].chat.new_chat, scope);\n\n      function onChat() {\n        console.info(`${scope.type}MailNotification`);\n        audio.currentTime = 0;\n        audio.play();\n      }\n    }\n  }\n})();\n"]}