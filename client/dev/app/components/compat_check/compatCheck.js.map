{"version":3,"sources":["compatCheck.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,qBAAf,EACG,OADH,CACW,aADX,EAC0B,yBAD1B,EAEG,SAFH,CAEa,kBAFb,EAEiC,2BAFjC,EADU;;AAKV,4BAA0B,OAA1B,GAAoC,EAApC,CALU;AAMV,WAAS,yBAAT,GAAqC;AACnC,QAAM,qBAAqB;AACzB,aAAO,WAAP;KADI,CAD6B;;AAKnC,MAAE,YAAF,CAAe,kBAAf,EALmC;AAMnC,WAAO,kBAAP,CANmC;;AAQnC,aAAS,WAAT,GAAuB;AACrB,aAAO,EAAE,MAAF,CAAS,CAAC,IAAD,CAAT,EACL,EAAE,EAAF,CAAK,CACH,YAAY,uBAAZ,CADG,EAEH,YAAY,SAAZ,CAFG,EAGH,YAAY,YAAZ,CAHG,EAIH,YAAM;AACJ,eAAS,EAAE,MAAF,CAAS,KAAK,GAAL,CAAT,IAAsB,EAAE,MAAF,CAAS,KAAK,SAAL,CAA/B,GACA,IADA,GAEA,KAFA,CADL;OAAN,EAMA,YAAY,MAAZ,CAVG,EAWH,YAAY,cAAZ,CAXG,EAYH,YAAY,WAAZ,CAZG,EAaH,YAAY,gBAAZ,CAbG,EAcH,YAAY,QAAZ,CAdG,CAAL,CADK,EAiBL,EAAE,MAAF,CAAS,EAAE,KAAF,CAjBJ,CAAP,CADqB;KAAvB;AAqBA,aAAS,WAAT,CAAqB,KAArB,EAA4B;AAC1B,aAAO,YAAM;AACX,eAAS,EAAE,MAAF,CAAS,KAAK,KAAL,CAAT,IACA,IADA,GAEA,KAFA,CADE;OAAN,CADmB;KAA5B;GA7BF;;AAuCA,8BAA4B,OAA5B,GAAsC,CACpC,aADoC,CAAtC,CA7CU;AAgDV,WAAS,2BAAT,CAAqC,kBAArC,EAAyD;AACvD,WAAO;AACL,gBAAU,GAAV;AACA,mBAAa,+CAAb;AACA,YAAM,IAAN;KAHF,CADuD;;AAOvD,aAAS,IAAT,CAAc,KAAd,EAAqB;AACnB,UAAI,eAAe,mBAAmB,KAAnB,EAAf,CADe;AAEnB,YAAM,YAAN,GAAqB,EAAE,OAAF,CAAU,YAAV,IAA0B,IAA1B,GAAiC,YAAjC,CAFF;KAArB;GAPF;CAhDD,CAAD","file":"compatCheck.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .factory('compatCheck', compatCheckServiceFactory)\n    .directive('clickCompatCheck', compatCheckDirectiveFactory);\n\n  compatCheckServiceFactory.$inject = [];\n  function compatCheckServiceFactory() {\n    const compatCheckService = {\n      check: compatCheck\n    };\n\n    R.curryService(compatCheckService);\n    return compatCheckService;\n\n    function compatCheck() {\n      return R.thread([null])(\n        R.ap([\n          simpleCheck('requestAnimationFrame'),\n          simpleCheck('Promise'),\n          simpleCheck('FileReader'),\n          () => {\n            return ( R.exists(self.URL) || R.exists(self.webkitURL) ?\n                     null :\n                     'URL'\n                   );\n          },\n          simpleCheck('Blob'),\n          simpleCheck('localStorage'),\n          simpleCheck('WebSocket'),\n          simpleCheck('XMLHttpRequest'),\n          simpleCheck('crypto')\n        ]),\n        R.reject(R.isNil)\n      );\n    }\n    function simpleCheck(check) {\n      return () => {\n        return ( R.exists(self[check]) ?\n                 null :\n                 check\n               );\n      };\n    }\n  }\n\n  compatCheckDirectiveFactory.$inject = [\n    'compatCheck',\n  ];\n  function compatCheckDirectiveFactory(compatCheckService) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/components/compat_check/compat_check.html',\n      link: link\n    };\n\n    function link(scope) {\n      let compat_error = compatCheckService.check();\n      scope.compat_error = R.isEmpty(compat_error) ? null : compat_error;\n    }\n  }\n})();\n"]}