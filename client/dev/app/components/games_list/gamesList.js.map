{"version":3,"sources":["gamesList.es6"],"names":[],"mappings":";;AAAA,QAAQ,MAAR,CAAe,qBAAf,EACG,UADH,CACc,eADd,EAC+B,CAC3B,QAD2B,EAE3B,SAAS,kBAAT,CAA4B,MAA5B,EAAoC;AAClC,UAAQ,GAAR,CAAY,eAAZ,EAA6B,OAAO,KAAP,CAA7B,CADkC;;AAGlC,SAAO,SAAP,CAAiB,IAAjB,GAAwB,EAAxB,CAHkC;AAIlC,SAAO,aAAP,GAAuB,UAAC,KAAD,EAAW;AAChC,WAAO,EAAE,MAAF,CAAS,EAAE,IAAF,CAAO,EAAE,MAAF,CAAS,KAAT,CAAP,EAAwB,OAAO,SAAP,CAAiB,IAAjB,CAAjC,CAAP,CADgC;GAAX,CAJW;AAOlC,SAAO,gBAAP,GAA0B,YAAM;AAC9B,WAAO,EAAE,OAAF,CAAU,OAAO,SAAP,CAAiB,IAAjB,CAAjB,CAD8B;GAAN,CAPQ;AAUlC,WAAS,YAAT,CAAsB,KAAtB,EAA6B;AAC3B,MAAE,IAAF,CACE,EAAE,SAAF,CAAY,EAAE,IAAF,CAAO,OAAO,SAAP,CAAiB,IAAjB,CAAnB,CADF,EAEE,EAAE,SAAF,CAAY,CAAZ,CAFF,EAGE,EAAE,GAAF,CAAM,EAAE,MAAF,CAAS,OAAO,KAAP,CAAT,GAAuB,CAAvB,CAHR,EAIE,EAAE,GAAF,CAAM,CAAN,CAJF,EAKE,UAAC,KAAD,EAAW;AACT,aAAO,SAAP,CAAiB,IAAjB,GAAwB,CAAC,KAAD,CAAxB,CADS;KAAX,CALF,CAQE,KARF,EAD2B;GAA7B;AAWA,SAAO,cAAP,GAAwB,UAAC,KAAD,EAAW;AACjC,QAAG,EAAE,MAAF,CAAS,OAAO,OAAP,CAAT,IACA,OAAO,KAAP,CAAa,KAAb,EAAoB,YAApB,KAAqC,OAAO,OAAP,EAAgB,OADxD;;AAGA,iBAAa,KAAb,EAJiC;GAAX,CArBU;AA2BlC,SAAO,MAAP,CAAc,OAAd,EAAuB,YAAM;AAAE,mBAAF;GAAN,CAAvB,CA3BkC;CAApC,CAHJ,EAiCG,SAjCH,CAiCa,gBAjCb,EAiC+B,CAC3B,YAAW;AACT,SAAO;AACL,cAAU,GAAV;AACA,gBAAY,eAAZ;AACA,iBAAa,qCAAb;AACA,WAAO;AACL,aAAO,GAAP;AACA,iBAAW,GAAX;AACA,eAAS,GAAT;KAHF;AAKA,UAAM,gBAAM,EAAN;GATR,CADS;CAAX,CAlCJ","file":"gamesList.js","sourcesContent":["angular.module('clickApp.directives')\n  .controller('gamesListCtrl', [\n    '$scope',\n    function userConnectionCtrl($scope) {\n      console.log('gamesListCtrl', $scope.games);\n\n      $scope.selection.list = [];\n      $scope.isInSelection = (index) => {\n        return R.exists(R.find(R.equals(index), $scope.selection.list));\n      };\n      $scope.selectionIsEmpty = () => {\n        return R.isEmpty($scope.selection.list);\n      };\n      function setSelection(index) {\n        R.pipe(\n          R.defaultTo(R.head($scope.selection.list)),\n          R.defaultTo(0),\n          R.min(R.length($scope.games)-1),\n          R.max(0),\n          (index) => {\n            $scope.selection.list = [index];\n          }\n        )(index);\n      }\n      $scope.doSetSelection = (index) => {\n        if(R.exists($scope.current) &&\n           $scope.games[index].public_stamp === $scope.current) return;\n\n        setSelection(index);\n      };\n      $scope.$watch('games', () => { setSelection(); });\n    }\n  ])\n  .directive('clickGamesList', [\n    function() {\n      return {\n        restrict: 'E',\n        controller: 'gamesListCtrl',\n        templateUrl: 'partials/directives/games_list.html',\n        scope: {\n          games: '=',\n          selection: '=',\n          current: '='\n        },\n        link: () => { }\n      };\n    }\n  ]);\n"]}