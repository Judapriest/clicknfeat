{"version":3,"sources":["errorToaster.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,qBAAf,EACG,SADH,CACa,mBADb,EACkC,4BADlC,EADU;;AAIV,+BAA6B,OAA7B,GAAuC,CACrC,UADqC,CAAvC,CAJU;AAOV,WAAS,4BAAT,CAAsC,eAAtC,EAAuD;AACrD,WAAO;AACL,gBAAU,GAAV;AACA,mBAAa,iDAAb;AACA,aAAO,EAAP;AACA,YAAM,IAAN;KAJF,CADqD;;AAQrD,aAAS,IAAT,CAAc,KAAd,EAAqB,OAArB,EAA8B;AAC5B,gBAAU,QAAQ,CAAR,CAAV,CAD4B;AAE5B,UAAI,mBAAJ,CAF4B;AAG5B,sBAAgB,WAAhB,CAA4B,OAA5B,EAH4B;AAI5B,YAAM,GAAN,GAAY,IAAZ,CAJ4B;;AAM5B,eAAS,OAAT,CAAiB,OAAjB,EAA0B,GAA1B,EAA+B;AAC7B,YAAG,OAAH,EAAY;AACV,eAAK,MAAL,CAAY,YAAZ,CAAyB,OAAzB,EADU;SAAZ;AAGA,cAAM,GAAN,GAAY,GAAZ,CAJ6B;AAK7B,kBAAU,KAAK,MAAL,CAAY,UAAZ,CAAuB,IAAvB,EAA6B,IAA7B,CAAV,CAL6B;OAA/B;AAOA,eAAS,IAAT,GAAgB;AACd,cAAM,GAAN,GAAY,IAAZ,CADc;AAEd,cAAM,OAAN,GAFc;OAAhB;KAbF;GARF;CAPD,CAAD","file":"errorToaster.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .directive('clickErrorToaster', errorToasterDirectiveFactory);\n\n  errorToasterDirectiveFactory.$inject = [\n    'appError',\n  ];\n  function errorToasterDirectiveFactory(appErrorService) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/components/error_toaster/error_toaster.html',\n      scope: {},\n      link: link\n    };\n\n    function link(scope, element) {\n      element = element[0];\n      let timeout;\n      appErrorService.addListener(onError);\n      scope.msg = null;\n\n      function onError(_event_, msg) {\n        if(timeout) {\n          self.window.clearTimeout(timeout);\n        }\n        scope.msg = msg;\n        timeout = self.window.setTimeout(hide, 2000);\n      }\n      function hide() {\n        scope.msg = null;\n        scope.$digest();\n      }\n    }\n  }\n})();\n"]}