{"version":3,"sources":["chatBox.es6"],"names":[],"mappings":";;AAAA,QAAQ,MAAR,CAAe,qBAAf,EACG,UADH,CACc,iBADd,EACiC,CAC7B,QAD6B,EAE7B,MAF6B,EAG7B,SAAS,kBAAT,CAA4B,MAA5B,EAC4B,WAD5B,EACyC;AACvC,UAAQ,GAAR,CAAY,iBAAZ,EADuC;;AAGvC,SAAO,IAAP,GAAc,EAAE,KAAK,EAAL,EAAhB,CAHuC;AAIvC,SAAO,iBAAP,GAA2B,YAAW;AACpC,QAAI,MAAM,EAAE,IAAF,CAAO,OAAO,IAAP,CAAY,GAAZ,CAAb,CADgC;AAEpC,QAAG,EAAE,OAAF,CAAU,GAAV,CAAH,EAAmB,OAAnB;;AAEA,MAAE,KAAF,CACE,YAAY,SAAZ,CAAsB,EAAE,IAAF,CAAO,CAAC,MAAD,EAAS,OAAT,EAAkB,MAAlB,CAAP,EAAkC,OAAO,KAAP,CAAxD,EACsB,GADtB,CADF,EAGE,YAAM;AACJ,aAAO,IAAP,CAAY,GAAZ,GAAkB,EAAlB,CADI;AAEJ,aAAO,OAAP,GAFI;KAAN,CAHF,CAOE,OAAO,KAAP,CAAa,IAAb,CAPF,CAJoC;GAAX,CAJY;AAiBvC,SAAO,wBAAP,CAAgC,WAAhC,EAA6C,MAA7C,EAjBuC;CADzC,CAJJ,EAyBG,SAzBH,CAyBa,kBAzBb,EAyBiC,CAC7B,YAAW;AACT,SAAO;AACL,cAAU,GAAV;AACA,gBAAY,iBAAZ;AACA,iBAAa,wCAAb;AACA,WAAO,IAAP;AACA,UAAM,gBAAM,EAAN;GALR,CADS;CAAX,CA1BJ","file":"chatBox.js","sourcesContent":["angular.module('clickApp.directives')\n  .controller('gameChatBoxCtrl', [\n    '$scope',\n    'game',\n    function userConnectionCtrl($scope,\n                                gameService) {\n      console.log('gameChatBoxCtrl');\n\n      $scope.chat = { msg: '' };\n      $scope.doSendChatMessage = function() {\n        var msg = s.trim($scope.chat.msg);\n        if(R.isEmpty(msg)) return;\n\n        R.pipeP(\n          gameService.sendChat$(R.path(['user', 'state', 'name'], $scope.state),\n                                msg),\n          () => {\n            $scope.chat.msg = '';\n            $scope.$digest();\n          }\n        )($scope.state.game);\n      };\n      $scope.digestOnStateChangeEvent('Game.chat', $scope);\n    }\n  ])\n  .directive('clickGameChatBox', [\n    function() {\n      return {\n        restrict: 'E',\n        controller: 'gameChatBoxCtrl',\n        templateUrl: 'partials/directives/game_chat_box.html',\n        scope: true,\n        link: () => { }\n      };\n    }\n  ]);\n"]}