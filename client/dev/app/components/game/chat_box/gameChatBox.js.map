{"version":3,"sources":["gameChatBox.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,qBAAf,EACG,UADH,CACc,iBADd,EACiC,eADjC,EAEG,SAFH,CAEa,kBAFb,EAEiC,2BAFjC,EADU;;AAKV,kBAAgB,OAAhB,GAA0B,CACxB,QADwB,EAExB,SAFwB,CAA1B,CALU;AASV,WAAS,eAAT,CAAyB,MAAzB,EACyB,cADzB,EACyC;AACvC,QAAM,KAAK,IAAL,CADiC;AAEvC,YAAQ,GAAR,CAAY,iBAAZ,EAFuC;;AAIvC,OAAG,iBAAH,GAAuB,iBAAvB,CAJuC;;AAMvC,eANuC;;AAQvC,aAAS,QAAT,GAAoB;AAClB,SAAG,GAAH,GAAS,EAAT,CADkB;AAElB,aAAO,QAAP,CAAgB,UAAhB,EAA4B,eAAe,IAAf,CAAoB,IAApB,EAA0B,MAAtD,EAFkB;KAApB;AAIA,aAAS,UAAT,CAAoB,IAApB,EAA0B;AACxB,SAAG,IAAH,GAAU,EAAE,KAAF,CAAQ,IAAR,EAAc,KAAd,CAAoB,CAAC,EAAD,CAApB,CAAyB,OAAzB,EAAV,CADwB;KAA1B;AAGA,aAAS,iBAAT,GAA6B;AAC3B,UAAM,MAAM,EAAE,IAAF,CAAO,GAAG,GAAH,CAAb,CADqB;AAE3B,UAAG,EAAE,OAAF,CAAU,GAAV,CAAH,EAAmB,OAAnB;;AAEA,aAAO,UAAP,CAAkB,0BAAlB,EAA8C,GAA9C,EAJ2B;AAK3B,SAAG,GAAH,GAAS,EAAT,CAL2B;KAA7B;GAhBF;;AAyBA,8BAA4B,OAA5B,GAAsC,EAAtC,CAlCU;AAmCV,WAAS,2BAAT,GAAuC;AACrC,WAAO;AACL,gBAAU,GAAV;AACA,mBAAa,iDAAb;AACA,aAAO,IAAP;AACA,kBAAY,iBAAZ;AACA,oBAAc,WAAd;AACA,YAAM,gBAAM,EAAN;KANR,CADqC;GAAvC;CAnCD,CAAD","file":"gameChatBox.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .controller('gameChatBoxCtrl', gameChatBoxCtrl)\n    .directive('clickGameChatBox', gameChatBoxDirectiveFactory);\n\n  gameChatBoxCtrl.$inject = [\n    '$scope',\n    'appGame',\n  ];\n  function gameChatBoxCtrl($scope,\n                           appGameService) {\n    const vm = this;\n    console.log('gameChatBoxCtrl');\n\n    vm.doSendChatMessage = doSendChatMessage;\n\n    activate();\n\n    function activate() {\n      vm.msg = '';\n      $scope.bindCell(updateChat, appGameService.chat.chat, $scope);\n    }\n    function updateChat(chat) {\n      vm.chat = R.clone(chat).slice(-10).reverse();\n    }\n    function doSendChatMessage() {\n      const msg = s.trim(vm.msg);\n      if(R.isEmpty(msg)) return;\n\n      $scope.sendAction('Game.connection.sendChat', msg);\n      vm.msg = '';\n    }\n  }\n\n  gameChatBoxDirectiveFactory.$inject = [];\n  function gameChatBoxDirectiveFactory() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/components/game/chat_box/game_chat_box.html',\n      scope: true,\n      controller: 'gameChatBoxCtrl',\n      controllerAs: 'game_chat',\n      link: () => { }\n    };\n  }\n})();\n"]}