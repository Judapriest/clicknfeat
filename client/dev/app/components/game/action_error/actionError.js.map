{"version":3,"sources":["actionError.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,qBAAf,EACG,SADH,CACa,sBADb,EACqC,+BADrC,EADU;;AAIV,kCAAgC,OAAhC,GAA0C,EAA1C,CAJU;AAKV,WAAS,+BAAT,GAA2C;AACzC,WAAO;AACL,gBAAU,GAAV;AACA,YAAM,IAAN;KAFF,CADyC;;AAMzC,aAAS,IAAT,CAAc,KAAd,EAAqB,OAArB,EAA8B;AAC5B,UAAM,SAAS,QAAQ,CAAR,CAAT,CADsB;AAE5B,cAAQ,GAAR,CAAY,iBAAZ,EAF4B;;AAI5B,aAAO,KAAP,CAAa,OAAb,GAAuB,MAAvB,CAJ4B;;AAM5B,UAAM,YAAY,OAAO,aAAP,CAAqB,yBAArB,CAAZ,CANsB;AAO5B,UAAM,cAAc,OAAO,aAAP,CAAqB,sBAArB,CAAd,CAPsB;;AAS5B,YAAM,kBAAN,CAAyB,mBAAzB,EAA8C,aAA9C,EAA6D,KAA7D,EAT4B;;AAW5B,UAAI,mBAAJ,CAX4B;AAY5B,eAAS,aAAT,CAAuB,OAAvB,EAAgC,KAAhC,EAAuC;AACrC,YAAG,EAAE,MAAF,CAAS,OAAT,CAAH,EAAsB,KAAK,YAAL,CAAkB,OAAlB,EAAtB;;AAEA,kBAAU,SAAV,GAAsB,MAAM,IAAN,CAAW,eAAX,EAAtB,CAHqC;AAIrC,oBAAY,SAAZ,GAAwB,KAAxB,CAJqC;;AAMrC,eAAO,KAAP,CAAa,OAAb,GAAuB,SAAvB,CANqC;AAOrC,kBAAU,KAAK,UAAL,CAAgB,SAAhB,EAA2B,IAA3B,CAAV,CAPqC;OAAvC;AASA,eAAS,SAAT,GAAqB;AACnB,eAAO,KAAP,CAAa,OAAb,GAAuB,MAAvB,CADmB;AAEnB,kBAAU,IAAV,CAFmB;OAArB;KArBF;GANF;CALD,CAAD","file":"actionError.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .directive('clickGameActionError', gameActionErrorDirectiveFactory);\n\n  gameActionErrorDirectiveFactory.$inject = [];\n  function gameActionErrorDirectiveFactory() {\n    return {\n      restrict: 'A',\n      link: link\n    };\n\n    function link(scope, element) {\n      const banner = element[0];\n      console.log('gameActionError');\n\n      banner.style.display = 'none';\n\n      const mode_span = banner.querySelector('.action-error-mode-name');\n      const reason_span = banner.querySelector('.action-error-reason');\n\n      scope.onStateChangeEvent('Game.action.error', onActionError, scope);\n\n      let timeout;\n      function onActionError(_event_, error) {\n        if(R.exists(timeout)) self.clearTimeout(timeout);\n\n        mode_span.innerHTML = scope.game.currentModeName();\n        reason_span.innerHTML = error;\n\n        banner.style.display = 'initial';\n        timeout = self.setTimeout(onTimeout, 1000);\n      }\n      function onTimeout() {\n        banner.style.display = 'none';\n        timeout = null;\n      }\n    }\n  }\n})();\n"]}