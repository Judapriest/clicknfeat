{"version":3,"sources":["base.es6"],"names":[],"mappings":"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","file":"base.js","sourcesContent":["angular.module('clickApp.directives')\n  .factory('clickGameModelBase', [\n    'model',\n    function(modelService) {\n      return {\n        create: function clickGameModelBaseCreate(svgNS, info, model, parent) {\n          let base = document.createElementNS(svgNS, 'circle');\n          base.classList.add('model-base');\n          base.setAttribute('cx', (info.img[0].width/2)+'');\n          base.setAttribute('cy', (info.img[0].height/2)+'');\n          base.setAttribute('r', info.base_radius);\n          base.setAttribute('style', [\n            'fill:', info.base_color, ';',\n          ].join(''));\n          base.setAttribute('data-stamp', model.state.stamp);\n          parent.appendChild(base);\n\n          let title = document.createElementNS(svgNS, 'title');\n          base.appendChild(title);\n          title.innerHTML = modelService.descriptionFromInfo(info, model);\n\n          let direction = document.createElementNS(svgNS, 'line');\n          direction.classList.add('model-los');\n          direction.setAttribute('x1', (info.img[0].width/2)+'');\n          direction.setAttribute('y1', (info.img[0].height/2)+'');\n          direction.setAttribute('x2', (info.img[0].width/2)+'');\n          direction.setAttribute('y2', (info.img[0].height/2-info.base_radius)+'');\n          parent.appendChild(direction);\n\n          let front_arc = document.createElementNS(svgNS, 'line');\n          front_arc.classList.add('model-los');\n          front_arc.setAttribute('x1', (info.img[0].width/2-info.base_radius)+'');\n          front_arc.setAttribute('y1', (info.img[0].height/2)+'');\n          front_arc.setAttribute('x2', (info.img[0].width/2+info.base_radius)+'');\n          front_arc.setAttribute('y2', (info.img[0].height/2)+'');\n          parent.appendChild(front_arc);\n\n          let image = document.createElementNS(svgNS, 'image');\n          image.classList.add('model-image');\n          image.setAttribute('x', '0');\n          image.setAttribute('y', '0');\n          parent.appendChild(image);\n\n          let edge = document.createElementNS(svgNS, 'circle');\n          edge.classList.add('model-edge');\n          edge.setAttribute('cx', (info.img[0].width/2)+'');\n          edge.setAttribute('cy', (info.img[0].height/2)+'');\n          edge.setAttribute('r', info.base_radius);\n          parent.appendChild(edge);\n\n          return [ base, direction, front_arc, image, edge ];\n        },\n        update: function clickGameModelBaseUpdate(info, model, img, element) {\n          let [ base, direction, front_arc, image, edge ] = element;\n\n          image.setAttribute('width', img.width+'');\n          image.setAttribute('height', img.height+'');\n          if(R.exists(img.link)) {\n            image.setAttributeNS('http://www.w3.org/1999/xlink', 'href', img.link);\n            image.style.visibility = 'visible';\n          }\n          else {\n            image.style.visibility = 'hidden';\n          }\n        }\n      };\n    }\n  ]);\n"]}