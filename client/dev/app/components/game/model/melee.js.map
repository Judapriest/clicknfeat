{"version":3,"sources":["melee.es6"],"names":[],"mappings":"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","file":"melee.js","sourcesContent":["angular.module('clickApp.directives')\n  .factory('clickGameModelMelee', [\n    'model',\n    function(modelService) {\n      function computeMeleePath(size, img, info) {\n        return [\n          'M',img.width/2-info.base_radius-size,',',img.height/2,' ',\n\n          'L',img.width/2+info.base_radius+size,',',img.height/2,' ',\n\n          'A',info.base_radius+size,',',info.base_radius+size,' 0 0,0 ',\n          img.width/2-info.base_radius-size,',',img.height/2,' ',\n\n          'M',img.width/2,',',img.height/2,' ',\n\n          'L',img.width/2,',',img.height/2-info.base_radius-size,' ',\n        ].join('');\n      }\n      return {\n        create: function clickGameModelMeleeCreate(svgNS, parent) {\n          let melee = document.createElementNS(svgNS, 'path');\n          melee.classList.add('model-melee');\n          melee.setAttribute('d', '');\n          parent.appendChild(melee);\n\n          let reach = document.createElementNS(svgNS, 'path');\n          reach.classList.add('model-melee');\n          reach.setAttribute('d', '');\n          parent.appendChild(reach);\n\n          let strike = document.createElementNS(svgNS, 'path');\n          strike.classList.add('model-melee');\n          strike.setAttribute('d', '');\n          parent.appendChild(strike);\n\n          return [ melee, reach, strike ];\n        },\n        update: function clickGameModeMeleeUpdate(info, model, img, element) {\n          let [ melee, reach, strike ] = element;\n          let path;\n          if(modelService.isMeleeDisplayed('mm', model)) {\n            path = computeMeleePath(5, img, info);\n            melee.setAttribute('d', path);\n            melee.style.visibility = 'visible';\n          }\n          else {\n            melee.style.visibility = 'hidden';\n          }\n          if(modelService.isMeleeDisplayed('mr', model)) {\n            path = computeMeleePath(20, img, info);\n            reach.setAttribute('d', path);\n            reach.style.visibility = 'visible';\n          }\n          else {\n            reach.style.visibility = 'hidden';\n          }\n          if(modelService.isMeleeDisplayed('ms', model)) {\n            path = computeMeleePath(40, img, info);\n            strike.setAttribute('d', path);\n            strike.style.visibility = 'visible';\n          }\n          else {\n            strike.style.visibility = 'hidden';\n          }\n        }\n      };\n    }\n  ]);\n"]}