{"version":3,"sources":["melee.es6"],"names":[],"mappings":"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","file":"melee.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .factory('clickGameModelMelee', gameModelMeleeModelFactory);\n\n  gameModelMeleeModelFactory.$inject = [\n    'model',\n  ];\n  function gameModelMeleeModelFactory(modelModel) {\n    return {\n      create: gameModelMeleeCreate,\n      update: gameModeMeleeUpdate\n    };\n\n    function gameModelMeleeCreate(svgNS, parent) {\n      const melee = document.createElementNS(svgNS, 'path');\n      melee.classList.add('model-melee');\n      melee.setAttribute('d', '');\n      parent.appendChild(melee);\n\n      const reach = document.createElementNS(svgNS, 'path');\n      reach.classList.add('model-melee');\n      reach.setAttribute('d', '');\n      parent.appendChild(reach);\n\n      const strike = document.createElementNS(svgNS, 'path');\n      strike.classList.add('model-melee');\n      strike.setAttribute('d', '');\n      parent.appendChild(strike);\n\n      return [ melee, reach, strike ];\n    }\n    function gameModeMeleeUpdate(info, model, img, element) {\n      const [ melee, reach, strike ] = element;\n      let path;\n      if(modelModel.isMeleeDisplayed('mm', model)) {\n        path = computeMeleePath(5, img, info);\n        melee.setAttribute('d', path);\n        melee.style.visibility = 'visible';\n      }\n      else {\n        melee.style.visibility = 'hidden';\n      }\n      if(modelModel.isMeleeDisplayed('mr', model)) {\n        path = computeMeleePath(20, img, info);\n        reach.setAttribute('d', path);\n        reach.style.visibility = 'visible';\n      }\n      else {\n        reach.style.visibility = 'hidden';\n      }\n      if(modelModel.isMeleeDisplayed('ms', model)) {\n        path = computeMeleePath(40, img, info);\n        strike.setAttribute('d', path);\n        strike.style.visibility = 'visible';\n      }\n      else {\n        strike.style.visibility = 'hidden';\n      }\n    }\n    function computeMeleePath(size, img, info) {\n      return [\n        'M',img.width/2-info.base_radius-size,',',img.height/2,' ',\n\n        'L',img.width/2+info.base_radius+size,',',img.height/2,' ',\n\n        'A',info.base_radius+size,',',info.base_radius+size,' 0 0,0 ',\n        img.width/2-info.base_radius-size,',',img.height/2,' ',\n\n        'M',img.width/2,',',img.height/2,' ',\n\n        'L',img.width/2,',',img.height/2-info.base_radius-size,' ',\n      ].join('');\n    }\n  }\n})();\n"]}