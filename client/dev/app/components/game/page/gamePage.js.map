{"version":3,"sources":["gamePage.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,qBAAf,EACG,SADH,CACa,eADb,EAC8B,6BAD9B,EADU;;AAIV,gCAA8B,OAA9B,GAAwC,EAAxC,CAJU;AAKV,WAAS,6BAAT,GAAyC;AACvC,WAAO;AACL,gBAAU,GAAV;AACA,YAAM,IAAN;KAFF,CADuC;;AAMvC,aAAS,IAAT,CAAc,KAAd,EAAqB,OAArB,EAA8B;AAC5B,UAAM,aAAa,iBAAb,CADsB;;AAG5B,cAAQ,CAAR,EACG,aADH,CACiB,cADjB,EAEG,gBAFH,CAEoB,OAFpB,EAE6B,UAF7B,EAH4B;AAM5B,YAAM,kBAAN,CAAyB,iBAAzB,EAA4C,UAA5C,EAAwD,KAAxD,EAN4B;;AAQ5B,UAAM,WAAW,QAAQ,CAAR,EAAW,aAAX,CAAyB,WAAzB,CAAX,CARsB;AAS5B,UAAM,OAAO,SAAS,qBAAT,EAAP,CATsB;AAU5B,eAAS,KAAT,CAAe,KAAf,GAAuB,IAAC,CAAK,MAAL,GAAa,IAAd,CAVK;KAA9B;;AAaA,aAAS,eAAT,CAAyB,OAAzB,EAAkC;AAChC,UAAI,8BAAJ,CADgC;AAEhC,aAAO,YAAM;AACX,YAAM,WAAW,QAAQ,aAAR,CAAsB,WAAtB,CAAX,CADK;AAEX,YAAM,OAAO,QAAQ,aAAR,CAAsB,OAAtB,CAAP,CAFK;AAGX,YAAM,WAAW,QAAQ,aAAR,CAAsB,WAAtB,CAAX,CAHK;AAIX,YAAM,WAAW,QAAQ,aAAR,CAAsB,WAAtB,CAAX,CAJK;;AAMX,YAAM,cAAc,KAAK,SAAL,CAAe,QAAf,CAAwB,QAAxB,CAAd,CANK;AAOX,YAAG,CAAC,WAAD,EAAc;AACf,cAAM,OAAO,SAAS,qBAAT,EAAP,CADS;AAEf,+BAAqB,KAAK,KAAL,CAFN;AAGf,mBAAS,KAAT,CAAe,KAAf,GAAuB,KAAK,MAAL,CAAY,UAAZ,GAAuB,IAAvB,CAHR;SAAjB,MAKK;AACH,mBAAS,KAAT,CAAe,KAAf,GAAuB,qBAAmB,IAAnB,CADpB;SALL;AAQA,iBAAS,SAAT,CAAmB,MAAnB,CAA0B,WAA1B,EAfW;AAgBX,aAAK,SAAL,CAAe,MAAf,CAAsB,QAAtB,EAhBW;AAiBX,iBAAS,SAAT,CAAmB,MAAnB,CAA0B,MAA1B,EAjBW;AAkBX,iBAAS,SAAT,CAAmB,MAAnB,CAA0B,MAA1B,EAlBW;OAAN,CAFyB;KAAlC;GAnBF;CALD,CAAD","file":"gamePage.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .directive('clickGamePage', clickGamePageDirectiveFactory);\n\n  clickGamePageDirectiveFactory.$inject = [];\n  function clickGamePageDirectiveFactory() {\n    return {\n      restrict: 'A',\n      link: link\n    };\n\n    function link(scope, element) {\n      const menuToggle = buildMenuToggle();\n\n      element[0]\n        .querySelector('#menu-toggle')\n        .addEventListener('click', menuToggle);\n      scope.onStateChangeEvent('Game.toggleMenu', menuToggle, scope);\n\n      const gameview = element[0].querySelector('#gameview');\n      const rect = gameview.getBoundingClientRect();\n      gameview.style.width = (rect.height)+'px';\n    }\n\n    function buildMenuToggle(element) {\n      let gameview_width_mem;\n      return () => {\n        const gameview = element.querySelector('#gameview');\n        const menu = element.querySelector('#menu');\n        const dice_osd = element.querySelector('#dice-osd');\n        const chat_osd = element.querySelector('#chat-osd');\n\n        const menu_hidden = menu.classList.contains('hidden');\n        if(!menu_hidden) {\n          const rect = gameview.getBoundingClientRect();\n          gameview_width_mem = rect.width;\n          gameview.style.width = self.window.innerWidth+'px';\n        }\n        else {\n          gameview.style.width = gameview_width_mem+'px';\n        }\n        gameview.classList.toggle('resizable');\n        menu.classList.toggle('hidden');\n        dice_osd.classList.toggle('show');\n        chat_osd.classList.toggle('show');\n      };\n    }\n  }\n})();\n"]}