{"version":3,"sources":["error.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,qBAAf,EACG,SADH,CACa,gBADb,EAC+B,yBAD/B,EADU;;AAIV,4BAA0B,OAA1B,GAAoC,EAApC,CAJU;AAKV,WAAS,yBAAT,GAAqC;AACnC,WAAO;AACL,gBAAU,GAAV;AACA,YAAM,IAAN;KAFF,CADmC;;AAMnC,aAAS,IAAT,CAAc,KAAd,EAAqB,OAArB,EAA8B;AAC5B,UAAM,SAAS,QAAQ,CAAR,CAAT,CADsB;AAE5B,cAAQ,GAAR,CAAY,WAAZ,EAF4B;;AAI5B,aAAO,KAAP,CAAa,OAAb,GAAuB,MAAvB,CAJ4B;;AAM5B,UAAM,YAAY,OAAO,aAAP,CAAqB,uBAArB,CAAZ,CANsB;AAO5B,UAAM,cAAc,OAAO,aAAP,CAAqB,oBAArB,CAAd,CAPsB;;AAS5B,YAAM,kBAAN,CAAyB,YAAzB,EAAuC,OAAvC,EAAgD,KAAhD,EAT4B;;AAW5B,UAAI,mBAAJ,CAX4B;AAY5B,eAAS,OAAT,CAAiB,OAAjB,EAA0B,KAA1B,EAAiC;AAC/B,YAAG,EAAE,MAAF,CAAS,OAAT,CAAH,EAAsB,KAAK,YAAL,CAAkB,OAAlB,EAAtB;;AAEA,kBAAU,SAAV,GAAsB,MAAM,IAAN,CAAW,eAAX,EAAtB,CAH+B;AAI/B,oBAAY,SAAZ,GAAwB,KAAxB,CAJ+B;;AAM/B,eAAO,KAAP,CAAa,OAAb,GAAuB,SAAvB,CAN+B;AAO/B,kBAAU,KAAK,UAAL,CAAgB,SAAhB,EAA2B,IAA3B,CAAV,CAP+B;OAAjC;AASA,eAAS,SAAT,GAAqB;AACnB,eAAO,KAAP,CAAa,OAAb,GAAuB,MAAvB,CADmB;AAEnB,kBAAU,IAAV,CAFmB;OAArB;KArBF;GANF;CALD,CAAD","file":"error.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .directive('clickGameError', gameErrorDirectiveFactory);\n\n  gameErrorDirectiveFactory.$inject = [];\n  function gameErrorDirectiveFactory() {\n    return {\n      restrict: 'A',\n      link: link\n    };\n\n    function link(scope, element) {\n      const banner = element[0];\n      console.log('gameError');\n\n      banner.style.display = 'none';\n\n      const mode_span = banner.querySelector('.game-error-mode-name');\n      const reason_span = banner.querySelector('.game-error-reason');\n\n      scope.onStateChangeEvent('Game.error', onError, scope);\n\n      let timeout;\n      function onError(_event_, error) {\n        if(R.exists(timeout)) self.clearTimeout(timeout);\n\n        mode_span.innerHTML = scope.game.currentModeName();\n        reason_span.innerHTML = error;\n\n        banner.style.display = 'initial';\n        timeout = self.setTimeout(onTimeout, 1000);\n      }\n      function onTimeout() {\n        banner.style.display = 'none';\n        timeout = null;\n      }\n    }\n  }\n})();\n"]}