{"version":3,"sources":["createTemplate.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,qBAAf,EACG,SADH,CACa,yBADb,EACwC,kCADxC,EADU;;AAIV,qCAAmC,OAAnC,GAA6C,CAC3C,SAD2C,EAE3C,UAF2C,CAA7C,CAJU;AAQV,WAAS,kCAAT,CAA4C,cAA5C,EAC4C,aAD5C,EAC2D;AACzD,QAAM,8BAA8B;AAClC,gBAAU,GAAV;AACA,mBAAa,0DAAb;AACA,YAAM,IAAN;KAHI,CADmD;AAMzD,WAAO,2BAAP,CANyD;;AAQzD,aAAS,IAAT,CAAc,KAAd,EAAqB;AACnB,cAAQ,GAAR,CAAY,qBAAZ,EAAmC,MAAM,QAAN,CAAnC,CADmB;;AAGnB,YAAM,QAAN,CAAe,cAAf,EAA+B,eAAe,MAAf,EAAuB,KAAtD,EAHmB;;AAKnB,eAAS,cAAT,CAAwB,MAAxB,EAAgC;AAC9B,YAAG,EAAE,KAAF,CAAQ,MAAR,KACA,EAAE,KAAF,CAAQ,EAAE,IAAF,CAAO,WAAP,EAAoB,MAApB,CAAR,CADA,EACsC,OADzC;AAEA,oBAAY,KAAZ,EAAmB,MAAnB,EAH8B;OAAhC;KALF;AAWA,aAAS,WAAT,CAAqB,KAArB,EAA4B,MAA5B,EAAoC;AAClC,UAAM,OAAO,EAAE,MAAF,CAAS,EAAE,GAAG,CAAH,EAAM,GAAG,CAAH,EAAjB,EAAyB,MAAzB,EAAiC,MAAjC,CAAP,CAD4B;AAElC,UAAM,WAAW,MAAM,QAAN,CAFiB;AAGlC,YAAM,GAAN,GAAY,cAAc,MAAd,CAAqB,EAAE,YAAY,KAAZ,EAAvB,EAA4C;AACtD,eAAO,EAAE,MAAF,CAAS,QAAT,EACL,EAAE,KAAF,CAAQ,GAAR,EAAa,KAAK,CAAL,CADR,EAEL,EAAE,KAAF,CAAQ,GAAR,EAAa,KAAK,CAAL,CAFR,CAAP;OADU,CAAZ,CAHkC;KAApC;GApBF;CARD,CAAD","file":"createTemplate.js","sourcesContent":["(function() {\n  angular.module('clickApp.directives')\n    .directive('clickGameCreateTemplate', gameCreateTemplateDirectiveFactory);\n\n  gameCreateTemplateDirectiveFactory.$inject = [\n    'appGame',\n    'template',\n  ];\n  function gameCreateTemplateDirectiveFactory(appGameService,\n                                              templateModel) {\n    const gameCreateTemplateDirective = {\n      restrict: 'A',\n      templateUrl: 'app/components/game/create_template/create_template.html',\n      link: link\n    };\n    return gameCreateTemplateDirective;\n\n    function link(scope) {\n      console.log('clickCreateTemplate', scope.template);\n\n      scope.bindCell(onCreateUpdate, appGameService.create, scope);\n\n      function onCreateUpdate(create) {\n        if(R.isNil(create) ||\n           R.isNil(R.prop('templates', create))) return;\n        setPosition(scope, create);\n      }\n    }\n    function setPosition(scope, create) {\n      const base = R.propOr({ x: 0, y: 0 }, 'base', create);\n      const template = scope.template;\n      scope.pos = templateModel.render({ is_flipped: false }, {\n        state: R.thread(template)(\n          R.assoc('x', base.x),\n          R.assoc('y', base.y)\n        )\n      });\n    }\n  }\n})();\n"]}