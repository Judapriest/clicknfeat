{"version":3,"sources":["spyOnPromise.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,OAAK,YAAL,GAAoB,SAAS,YAAT,CAAsB,MAAtB,EAA8B,GAA9B,EAAmC;AACrD,QAAM,MAAM,MAAM,MAAN,EAAc,GAAd,CAAN,CAD+C;;AAGrD,WAAO,KAAK,gBAAL,CAAsB,GAAtB,CAAP,CAHqD;GAAnC,CADV;AAMV,OAAK,gBAAL,GAAwB,SAAS,gBAAT,CAA0B,GAA1B,EAA+B;AACrD,QAAI,yBAAJ,CADqD;AAErD,QAAI,wBAAJ,CAFqD;AAGrD,QAAI,WAAJ,GAAkB,YAAa;wCAAT;;OAAS;;AAC7B,sBAAgB,IAAhB,CAD6B;KAAb,CAHmC;AAMrD,QAAI,UAAJ,GAAiB,YAAa;yCAAT;;OAAS;;AAC5B,qBAAe,IAAf,CAD4B;KAAb,CANoC;AASrD,QAAI,GAAJ,CAAQ,QAAR,CAAiB,kBAAjB,EATqD;AAUrD,WAAO,GAAP,CAVqD;;AAYrD,aAAS,kBAAT,GAAqC;yCAAN;;OAAM;;AACnC,aAAO,IAAI,KAAK,OAAL,CAAa,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC3C,YAAI,OAAJ,GAAc,OAAd,CAD2C;AAE3C,YAAI,MAAJ,GAAa,MAAb,CAF2C;;AAI3C,YAAG,EAAE,MAAF,CAAS,YAAT,CAAH,EAA2B;AACzB,cAAG,EAAE,MAAF,CAAS,YAAT,MAA2B,CAA3B,IACA,EAAE,IAAF,CAAO,aAAa,CAAb,CAAP,MAA4B,UAA5B,EAAwC;AACzC,mBAAO,aAAa,CAAb,EAAgB,KAAhB,CAAsB,IAAtB,EAA4B,IAA5B,CAAP,EADyC;WAD3C,MAIK;AACH,mBAAO,KAAP,CAAa,IAAb,EAAmB,YAAnB,EADG;WAJL;SADF;AASA,YAAG,EAAE,MAAF,CAAS,aAAT,CAAH,EAA4B;AAC1B,cAAG,EAAE,MAAF,CAAS,aAAT,MAA4B,CAA5B,IACA,EAAE,IAAF,CAAO,cAAc,CAAd,CAAP,MAA6B,UAA7B,EAAyC;AAC1C,oBAAQ,cAAc,CAAd,EAAiB,KAAjB,CAAuB,IAAvB,EAA6B,IAA7B,CAAR,EAD0C;WAD5C,MAIK;AACH,oBAAQ,KAAR,CAAc,IAAd,EAAoB,aAApB,EADG;WAJL;SADF;OAbsB,CAAxB,CADmC;KAArC;GAZsB,CANd;CAAX,CAAD","file":"spyOnPromise.js","sourcesContent":["(function() {\n  self.spyOnPromise = function spyOnPromise(object, key) {\n    const spy = spyOn(object, key);\n\n    return self.spyReturnPromise(spy);\n  };\n  self.spyReturnPromise = function spyReturnPromise(spy) {\n    let resolve_value;\n    let reject_value;\n    spy.resolveWith = (...args) => {\n      resolve_value = args;\n    };\n    spy.rejectWith = (...args) => {\n      reject_value = args;\n    };\n    spy.and.callFake(resolveFakePromise);\n    return spy;\n\n    function resolveFakePromise(...args) {\n      return new self.Promise((resolve, reject) => {\n        spy.resolve = resolve;\n        spy.reject = reject;\n\n        if(R.exists(reject_value)) {\n          if(R.length(reject_value) === 1 &&\n             R.type(reject_value[0]) === 'Function') {\n            reject(reject_value[0].apply(null, args));\n          }\n          else {\n            reject.apply(null, reject_value);\n          }\n        }\n        if(R.exists(resolve_value)) {\n          if(R.length(resolve_value) === 1 &&\n             R.type(resolve_value[0]) === 'Function') {\n            resolve(resolve_value[0].apply(null, args));\n          }\n          else {\n            resolve.apply(null, resolve_value);\n          }\n        }\n      });\n    }\n  };\n})();\n"]}