{"version":3,"sources":["template.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,cADX,EAC2B,wBAD3B,EADU;;AAIV,2BAAyB,OAAzB,GAAmC,CACjC,aADiC,EAEjC,OAFiC,EAGjC,UAHiC,EAIjC,UAJiC,EAKjC,eALiC,EAMjC,uBANiC,CAAnC,CAJU;AAYV,WAAS,wBAAT,CAAkC,gBAAlC,EACkC,UADlC,EAEkC,aAFlC,EAGkC,aAHlC,EAIkC,kBAJlC,EAKkC,0BALlC,EAK8D;AAC5D,QAAM,gBAAgB,iBAAiB,UAAjB,EACiB,aADjB,EAEiB,kBAFjB,EAGiB,0BAHjB,CAAhB,CADsD;AAK5D,kBAAc,OAAd,CAAsB,aAAtB,GAAsC,qBAAtC,CAL4D;AAM5D,kBAAc,QAAd,CAAuB,aAAvB,GAAuC,SAAvC,CAN4D;;AAQ5D,eAAW,YAAX,CAAwB,aAAxB,EAR4D;AAS5D,kBAAc,QAAd,CAAuB,UAAvB,EACuB,cAAc,IAAd,EACA,cAAc,QAAd,EACA,UAAC,EAAD,EAAQ;AACN,QAAE,MAAF,CAAS,cAAc,QAAd,EAAwB,EAAjC,EADM;KAAR,CAHvB,CAT4D;AAe5D,WAAO,aAAP,CAf4D;;AAiB5D,aAAS,qBAAT,CAA+B,KAA/B,EAAsC;AACpC,UAAM,SAAS,2BACN,GADM,CACF,OADE,EACO,MAAM,IAAN,CAAW,kBAAX,CADhB,CAD8B;AAGpC,aAAO,EAAE,OAAF,CAAU,MAAM,IAAN,CAAV,CACL,EAAE,IAAF,CAAO,WAAP,CADK,EAEL,mBAAmB,WAAnB,CAA+B,OAAO,CAAP,CAA/B,CAFK,EAGL,UAAC,QAAD,EAAc;AACZ,cAAM,iBAAN,CAAwB,qBAAxB,EACwB,aADxB,EACuC,QADvC,EADY;OAAd,CAHF,CAHoC;KAAtC;GAtBF;CAZD,CAAD","file":"template.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('templateMode', templateModeModelFactory);\n\n  templateModeModelFactory.$inject = [\n    'elementMode',\n    'modes',\n    'settings',\n    'template',\n    'gameTemplates',\n    'gameTemplateSelection',\n  ];\n  function templateModeModelFactory(elementModeModel,\n                                    modesModel,\n                                    settingsModel,\n                                    templateModel,\n                                    gameTemplatesModel,\n                                    gameTemplateSelectionModel) {\n    const template_mode = elementModeModel('template',\n                                           templateModel,\n                                           gameTemplatesModel,\n                                           gameTemplateSelectionModel);\n    template_mode.actions.openEditLabel = templateOpenEditLabel;\n    template_mode.bindings.openEditLabel = 'shift+l';\n\n    modesModel.registerMode(template_mode);\n    settingsModel.register('Bindings',\n                           template_mode.name,\n                           template_mode.bindings,\n                           (bs) => {\n                             R.extend(template_mode.bindings, bs);\n                           });\n    return template_mode;\n\n    function templateOpenEditLabel(state) {\n      const stamps = gameTemplateSelectionModel\n              .get('local', state.game.template_selection);\n      return R.threadP(state.game)(\n        R.prop('templates'),\n        gameTemplatesModel.findStampP$(stamps[0]),\n        (template) => {\n          state.queueChangeEventP('Game.editLabel.open',\n                                  'onTemplates', template);\n        }\n      );\n    }\n  }\n})();\n"]}