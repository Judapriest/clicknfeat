{"version":3,"sources":["los.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,SADX,EACsB,mBADtB,EADU;;AAIV,sBAAoB,OAApB,GAA8B,CAC5B,UAD4B,EAE5B,aAF4B,EAG5B,SAH4B,CAA9B,CAJU;AASV,WAAS,mBAAT,CAA6B,eAA7B,EAC6B,gBAD7B,EAE6B,YAF7B,EAE2C;AACzC,QAAM,uBAAuB;AAC3B,mBAAa,QAAb;AACA,yBAAmB,YAAnB;AACA,sBAAgB,iBAAhB;AACA,sBAAgB,kBAAhB;KAJI,CADmC;AAOzC,QAAM,WAAW,iBAAiB,KAAjB,EAAwB,YAAxB,EAAsC,oBAAtC,CAAX,CAPmC;AAQzC,aAAS,OAAT,CAAiB,cAAjB,GAAkC,iBAAlC,CARyC;AASzC,aAAS,OAAT,CAAiB,cAAjB,GAAkC,iBAAlC,CATyC;AAUzC,aAAS,OAAT,CAAiB,iBAAjB,GAAqC,oBAArC,CAVyC;;AAYzC,WAAO,QAAP,CAZyC;;AAczC,aAAS,iBAAT,CAA2B,OAA3B,EAAoC,KAApC,EAA2C;AACzC,aAAO,gBACJ,WADI,CACQ,sBADR,EAEQ,QAFR,EAEkB,CACR,WADQ,EAER,CAAC,MAAM,QAAN,EAAgB,MAAhB,CAFO,CAFlB,CAAP,CADyC;KAA3C;AAQA,aAAS,iBAAT,CAA2B,OAA3B,EAAoC,KAApC,EAA2C;AACzC,aAAO,gBACJ,WADI,CACQ,sBADR,EAEQ,QAFR,EAEkB,CACR,WADQ,EAER,CAAC,MAAM,QAAN,EAAgB,MAAhB,CAFO,CAFlB,CAAP,CADyC;KAA3C;AAQA,aAAS,oBAAT,CAA8B,OAA9B,EAAuC,KAAvC,EAA8C;AAC5C,aAAO,gBACJ,WADI,CACQ,sBADR,EAEQ,QAFR,EAEkB,CACR,mBADQ,EAER,CAAC,MAAM,QAAN,EAAgB,MAAhB,CAFO,CAFlB,CAAP,CAD4C;KAA9C;GAhCF;CATD,CAAD","file":"los.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('losMode', losModeModelFactory);\n\n  losModeModelFactory.$inject = [\n    'appState',\n    'segmentMode',\n    'gameLos',\n  ];\n  function losModeModelFactory(appStateService,\n                               segmentModeModel,\n                               gameLosModel) {\n    const los_default_bindings = {\n      exitLosMode: 'ctrl+l',\n      toggleIgnoreModel: 'clickModel',\n      setOriginModel: 'ctrl+clickModel',\n      setTargetModel: 'shift+clickModel'\n    };\n    const los_mode = segmentModeModel('los', gameLosModel, los_default_bindings);\n    los_mode.actions.setOriginModel = losSetOriginModel;\n    los_mode.actions.setTargetModel = losSetTargetModel;\n    los_mode.actions.toggleIgnoreModel = losToggleIgnoreModel;\n\n    return los_mode;\n\n    function losSetOriginModel(_state_, event) {\n      return appStateService\n        .chainReduce('Game.command.execute',\n                     'setLos', [\n                       'setOrigin',\n                       [event['click#'].target]\n                     ]);\n    }\n    function losSetTargetModel(_state_, event) {\n      return appStateService\n        .chainReduce('Game.command.execute',\n                     'setLos', [\n                       'setTarget',\n                       [event['click#'].target]\n                     ]);\n    }\n    function losToggleIgnoreModel(_state_, event) {\n      return appStateService\n        .chainReduce('Game.command.execute',\n                     'setLos', [\n                       'toggleIgnoreModel',\n                       [event['click#'].target]\n                     ]);\n    }\n  }\n})();\n"]}