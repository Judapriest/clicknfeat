{"version":3,"sources":["common.es6"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["angular.module('clickApp.services')\n  .factory('commonMode', [\n    'modes',\n    'settings',\n    'game',\n    function commonModeServiceFactory(modesService,\n                                      settingsService) {\n      var common_actions = {\n        modeBackToDefault: (state) => {\n          return state.event('Modes.switchTo', 'Default');\n        },\n        commandUndoLast: (state) => {\n          return state.event('Game.command.undoLast');\n        },\n        commandReplayNext: (state) => {\n          return state.event('Game.command.replayNext');\n        },\n        viewScrollLeft: (state) => {\n          state.changeEvent('Game.view.scrollLeft');\n        },\n        viewScrollRight: (state) => {\n          state.changeEvent('Game.view.scrollRight');\n        },\n        viewScrollUp: (state) => {\n          state.changeEvent('Game.view.scrollUp');\n        },\n        viewScrollDown: (state) => {\n          state.changeEvent('Game.view.scrollDown');\n        },\n        viewZoomIn: (state) => {\n          state.changeEvent('Game.view.zoomIn');\n        },\n        viewZoomOut: (state) => {\n          state.changeEvent('Game.view.zoomOut');\n        },\n        viewZoomReset: (state) => {\n          state.changeEvent('Game.view.zoomReset');\n        },\n        flipMap: (state) => {\n          state.changeEvent('Game.view.flipMap');\n        },\n        toggleMenu: (state) => {\n          state.changeEvent('Game.toggleMenu');\n        },\n        roll1D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 1]);\n        },\n        roll2D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 2]);\n        },\n        roll3D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 3]);\n        },\n        roll4D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 4]);\n        },\n        roll5D6: (state) => {\n          return state.event('Game.command.execute',\n                             'rollDice', [6, 5]);\n        }\n      };\n      var common_bindings = {\n        commandUndoLast: 'ctrl+z',\n        commandReplayNext: 'ctrl+y',\n        modeBackToDefault: 'esc',\n        viewScrollLeft: 'alt+left',\n        viewScrollRight: 'alt+right',\n        viewScrollUp: 'alt+up',\n        viewScrollDown: 'alt+down',\n        viewZoomIn: 'alt++',\n        viewZoomOut: 'alt+-',\n        viewZoomReset: 'alt+z',\n        flipMap: 'ctrl+shift+f',\n        toggleMenu: 'ctrl+shift+m'\n        // roll1D6: 'd+1',\n        // roll2D6: 'd+2',\n        // roll3D6: 'd+3',\n        // roll4D6: 'd+4',\n        // roll5D6: 'd+5',\n      };\n      var common_mode = {\n        name: 'Common',\n        actions: common_actions,\n        buttons: [],\n        bindings: R.clone(common_bindings)\n      };\n      settingsService.register('Bindings',\n                               common_mode.name,\n                               common_bindings,\n                               (bs) => {\n                                 R.extend(common_mode.bindings, bs);\n                               });\n      return common_mode;\n    }\n  ]);\n"]}