{"version":3,"sources":["modelSelection.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,oBADX,EACiC,8BADjC,EADU;;AAIV,iCAA+B,OAA/B,GAAyC,CACvC,sBADuC,EAEvC,YAFuC,CAAzC,CAJU;AAQV,WAAS,8BAAT,CAAwC,yBAAxC,EACwC,eADxC,EACyD;AACvD,QAAM,OAAO,0BAA0B,OAA1B,CAAP,CADiD;AAEvD,QAAM,0BAA0B,OAAO,MAAP,CAAc,IAAd,CAA1B,CAFiD;AAGvD,MAAE,UAAF,CAAa,uBAAb,EAAsC;AACpC,gBAAU,sBAAV;AACA,iBAAW,cAAX;KAFF,EAHuD;AAOvD,MAAE,YAAF,CAAe,uBAAf,EAPuD;AAQvD,WAAO,uBAAP,CARuD;;AAUvD,aAAS,sBAAT,CAAgC,KAAhC,EAAuC,KAAvC,EAA8C,SAA9C,EAAyD;AACvD,UAAM,SAAS,EAAE,IAAF,CAAO,KAAP,EAAc,SAAd,CAAT,CADiD;AAEvD,aAAS,EAAE,MAAF,CAAS,MAAT,MAAqB,CAArB,IACA,OAAO,CAAP,MAAc,KAAd,CAH8C;KAAzD;AAKA,aAAS,cAAT,CAAwB,MAAxB,EAAgC,SAAhC,EAA2C;AACzC,UAAM,QAAQ,wBAAwB,GAAxB,CAA4B,OAA5B,EAAqC,SAArC,CAAR,CADmC;AAEzC,UAAG,EAAE,OAAF,CAAU,KAAV,CAAH,EAAqB,OAAO,IAAP,CAArB;AACA,UAAG,EAAE,MAAF,CAAS,KAAT,MAAoB,CAApB,EAAuB;AACxB,eAAO,gBAAgB,YAAhB,CAA6B,MAAM,CAAN,CAA7B,EAAuC,MAAvC,CAAP,CADwB;OAA1B;AAGA,aAAO,QAAP,CANyC;KAA3C;GAhBF;CARD,CAAD","file":"modelSelection.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('gameModelSelection', gameModelSelectionModelFactory);\n\n  gameModelSelectionModelFactory.$inject = [\n    'gameElementSelection',\n    'gameModels',\n  ];\n  function gameModelSelectionModelFactory(gameElementSelectionModel,\n                                          gameModelsModel) {\n    const base = gameElementSelectionModel('model');\n    const gameModelSelectionModel = Object.create(base);\n    R.deepExtend(gameModelSelectionModel, {\n      inSingle: modelSelectionInSingle,\n      checkMode: modelCheckMode\n    });\n    R.curryService(gameModelSelectionModel);\n    return gameModelSelectionModel;\n\n    function modelSelectionInSingle(where, stamp, selection) {\n      const stamps = R.prop(where, selection);\n      return ( R.length(stamps) === 1 &&\n               stamps[0] === stamp );\n    }\n    function modelCheckMode(models, selection) {\n      const local = gameModelSelectionModel.get('local', selection);\n      if(R.isEmpty(local)) return null;\n      if(R.length(local) === 1) {\n        return gameModelsModel.modeForStamp(local[0], models);\n      }\n      return 'Models';\n    }\n  }\n})();\n"]}