{"version":3,"sources":["templateSelection.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,iBAAf,EACG,OADH,CACW,uBADX,EACoC,iCADpC,EADU;;AAIV,oCAAkC,OAAlC,GAA4C,CAC1C,UAD0C,EAE1C,sBAF0C,EAG1C,eAH0C,CAA5C,CAJU;AASV,WAAS,iCAAT,CAA2C,eAA3C,EAC2C,yBAD3C,EAE2C,kBAF3C,EAE+D;AAC7D,QAAM,OAAO,0BAA0B,UAA1B,CAAP,CADuD;AAE7D,QAAM,6BAA6B,OAAO,MAAP,CAAc,IAAd,CAA7B,CAFuD;AAG7D,MAAE,UAAF,CAAa,0BAAb,EAAyC;AACvC,iBAAW,0BAAX;KADF,EAH6D;AAM7D,MAAE,YAAF,CAAe,0BAAf,EAN6D;AAO7D,WAAO,0BAAP,CAP6D;;AAS7D,aAAS,0BAAT,CAAoC,SAApC,EAA+C;AAC7C,UAAM,QAAQ,gBAAgB,OAAhB,EAAR,CADuC;AAE7C,aAAO,EAAE,MAAF,CAAS,SAAT,EACL,2BAA2B,IAA3B,CAAgC,OAAhC,CADK,EAEL,EAAE,MAAF,CACE,EAAE,OAAF,EACA;eAAM;OAAN,EACA,UAAC,KAAD;eAAW,EAAE,MAAF,CAAS,KAAT,EACT,EAAE,IAAF,EACA,mBAAmB,UAAnB,CAA8B,EAAE,EAAF,EAAM,MAAM,IAAN,CAAW,SAAX,CAF3B,EAGT,UAAC,QAAD;iBAAiB,SAAS,KAAT,CAAe,IAAf;SAAjB;OAHF,CALG,CAAP,CAF6C;KAA/C;GAXF;CATD,CAAD","file":"templateSelection.js","sourcesContent":["(function() {\n  angular.module('clickApp.models')\n    .factory('gameTemplateSelection', gameTemplateSelectionModelFactory);\n\n  gameTemplateSelectionModelFactory.$inject = [\n    'appState',\n    'gameElementSelection',\n    'gameTemplates',\n  ];\n  function gameTemplateSelectionModelFactory(appStateService,\n                                             gameElementSelectionModel,\n                                             gameTemplatesModel) {\n    const base = gameElementSelectionModel('template');\n    const gameTemplateSelectionModel = Object.create(base);\n    R.deepExtend(gameTemplateSelectionModel, {\n      checkMode: templateSelectionCheckMode\n    });\n    R.curryService(gameTemplateSelectionModel);\n    return gameTemplateSelectionModel;\n\n    function templateSelectionCheckMode(selection) {\n      const state = appStateService.current();\n      return R.thread(selection)(\n        gameTemplateSelectionModel.get$('local'),\n        R.ifElse(\n          R.isEmpty,\n          () => null,\n          (local) => R.thread(local)(\n            R.head,\n            gameTemplatesModel.findStamp$(R.__, state.game.templates),\n            (template) => `${template.state.type}Template`\n          )\n        )\n      );\n    }\n  }\n})();\n"]}