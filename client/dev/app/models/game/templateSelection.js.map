{"version":3,"sources":["templateSelection.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,iBAAf,EACG,OADH,CACW,uBADX,EACoC,iCADpC,EADU;;AAIV,oCAAkC,OAAlC,GAA4C,CAC1C,sBAD0C,EAE1C,eAF0C,CAA5C,CAJU;AAQV,WAAS,iCAAT,CAA2C,yBAA3C,EAC2C,kBAD3C,EAC+D;AAC7D,QAAM,OAAO,0BAA0B,UAA1B,CAAP,CADuD;AAE7D,QAAM,6BAA6B,OAAO,MAAP,CAAc,IAAd,CAA7B,CAFuD;AAG7D,MAAE,UAAF,CAAa,0BAAb,EAAyC;AACvC,kBAAY,2BAAZ;KADF,EAH6D;AAM7D,MAAE,YAAF,CAAe,0BAAf,EAN6D;AAO7D,WAAO,0BAAP,CAP6D;;AAS7D,aAAS,2BAAT,CAAqC,KAArC,EAA4C,SAA5C,EAAuD;AACrD,aAAO,EAAE,OAAF,CAAU,SAAV,EACL,2BAA2B,IAA3B,CAAgC,OAAhC,CADK,EAEL,EAAE,IAAF,EACA,EAAE,QAAF,CAAW,EAAE,KAAF,EAAS,uBAApB,CAHK,EAIL,EAAE,QAAF,CAAW,OAAX,CAJK,EAKL,UAAC,KAAD;eAAW,mBACR,UADQ,CACG,KADH,EACU,MAAM,IAAN,CAAW,SAAX;OADrB,EAEA,UAAC,QAAD,EAAc;AACZ,gBAAQ,KAAR,CAAc,QAAd,EADY;AAEZ,cAAM,WAAN,CAAkB,gBAAlB,EACqB,SAAS,KAAT,CAAe,IAAf,aADrB,EAFY;OAAd,CAPF,CADqD;KAAvD;GAVF;CARD,CAAD","file":"templateSelection.js","sourcesContent":["(function() {\n  angular.module('clickApp.models')\n    .factory('gameTemplateSelection', gameTemplateSelectionModelFactory);\n\n  gameTemplateSelectionModelFactory.$inject = [\n    'gameElementSelection',\n    'gameTemplates',\n  ];\n  function gameTemplateSelectionModelFactory(gameElementSelectionModel,\n                                             gameTemplatesModel) {\n    const base = gameElementSelectionModel('template');\n    const gameTemplateSelectionModel = Object.create(base);\n    R.deepExtend(gameTemplateSelectionModel, {\n      checkModeP: templateSelectionCheckModeP\n    });\n    R.curryService(gameTemplateSelectionModel);\n    return gameTemplateSelectionModel;\n\n    function templateSelectionCheckModeP(state, selection) {\n      return R.threadP(selection)(\n        gameTemplateSelectionModel.get$('local'),\n        R.head,\n        R.rejectIf(R.isNil, 'No template selection'),\n        R.spyError('stamp'),\n        (stamp) => gameTemplatesModel\n          .findStampP(stamp, state.game.templates),\n        (template) => {\n          console.error(template);\n          state.queueEventP('Modes.switchTo',\n                            `${template.state.type}Template`);\n        }\n      );\n    }\n  }\n})();\n"]}