{"version":3,"sources":["templateSelection.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,iBAAf,EACG,OADH,CACW,uBADX,EACoC,iCADpC,EADU;;AAIV,oCAAkC,OAAlC,GAA4C,CAC1C,sBAD0C,EAE1C,eAF0C,CAA5C,CAJU;AAQV,WAAS,iCAAT,CAA2C,yBAA3C,EAC2C,kBAD3C,EAC+D;AAC7D,QAAM,OAAO,0BAA0B,UAA1B,CAAP,CADuD;AAE7D,QAAM,6BAA6B,OAAO,MAAP,CAAc,IAAd,CAA7B,CAFuD;AAG7D,MAAE,UAAF,CAAa,0BAAb,EAAyC;AACvC,iBAAW,0BAAX;KADF,EAH6D;AAM7D,MAAE,YAAF,CAAe,0BAAf,EAN6D;AAO7D,WAAO,0BAAP,CAP6D;;AAS7D,aAAS,0BAAT,CAAoC,SAApC,EAA+C,SAA/C,EAA0D;AACxD,UAAM,QAAQ,2BACL,GADK,CACD,OADC,EACQ,SADR,CAAR,CADkD;AAGxD,UAAG,EAAE,OAAF,CAAU,KAAV,CAAH,EAAqB,OAAO,IAAP,CAArB;;AAEA,UAAM,WAAW,mBACR,UADQ,CACG,EAAE,IAAF,CAAO,KAAP,CADH,EACkB,SADlB,CAAX,CALkD;AAOxD,UAAG,EAAE,KAAF,CAAQ,QAAR,CAAH,EAAsB,OAAO,IAAP,CAAtB;;AAEA,aAAU,SAAS,KAAT,CAAe,IAAf,aAAV,CATwD;KAA1D;GAVF;CARD,CAAD","file":"templateSelection.js","sourcesContent":["(function() {\n  angular.module('clickApp.models')\n    .factory('gameTemplateSelection', gameTemplateSelectionModelFactory);\n\n  gameTemplateSelectionModelFactory.$inject = [\n    'gameElementSelection',\n    'gameTemplates',\n  ];\n  function gameTemplateSelectionModelFactory(gameElementSelectionModel,\n                                             gameTemplatesModel) {\n    const base = gameElementSelectionModel('template');\n    const gameTemplateSelectionModel = Object.create(base);\n    R.deepExtend(gameTemplateSelectionModel, {\n      checkMode: templateSelectionCheckMode\n    });\n    R.curryService(gameTemplateSelectionModel);\n    return gameTemplateSelectionModel;\n\n    function templateSelectionCheckMode(templates, selection) {\n      const local = gameTemplateSelectionModel\n              .get('local', selection);\n      if(R.isEmpty(local)) return null;\n\n      const template = gameTemplatesModel\n              .findStamp$(R.head(local), templates);\n      if(R.isNil(template)) return null;\n\n      return `${template.state.type}Template`;\n    }\n  }\n})();\n"]}