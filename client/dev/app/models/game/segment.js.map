{"version":3,"sources":["segment.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,aADX,EAC0B,uBAD1B,EADU;;AAIV,0BAAwB,OAAxB,GAAkC,EAAlC,CAJU;AAKV,WAAS,uBAAT,GAAmC;AACjC,QAAM,sBAAsB,EAAE,QAAF,CAAW,CAAC,QAAD,EAAU,SAAV,CAAX,CAAtB,CAD2B;AAEjC,WAAO,SAAS,qBAAT,GAAiC;AACtC,UAAM,mBAAmB;AACvB,gBAAQ,iBAAR;AACA,qBAAa,sBAAb;AACA,uBAAe,wBAAf;AACA,kBAAU,mBAAV;AACA,mBAAW,oBAAX;AACA,yBAAiB,0BAAjB;AACA,qBAAa,sBAAb;OAPI,CADgC;;AAWtC,QAAE,YAAF,CAAe,gBAAf,EAXsC;AAYtC,aAAO,gBAAP,CAZsC;;AActC,eAAS,iBAAT,GAA6B;AAC3B,eAAO;AACL,iBAAO;AACL,qBAAS,KAAT;AACA,mBAAO,EAAE,GAAG,CAAH,EAAM,GAAG,CAAH,EAAf;AACA,iBAAK,EAAE,GAAG,CAAH,EAAM,GAAG,CAAH,EAAb;WAHF;AAKA,kBAAQ;AACN,qBAAS,KAAT;AACA,mBAAO,EAAE,GAAG,CAAH,EAAM,GAAG,CAAH,EAAf;AACA,iBAAK,EAAE,GAAG,CAAH,EAAM,GAAG,CAAH,EAAb;WAHF;SANF,CAD2B;OAA7B;AAcA,eAAS,sBAAT,CAAgC,OAAhC,EAAyC;AACvC,eAAO,EAAE,IAAF,CAAO,mBAAP,EAA4B,OAA5B,CAAP,CADuC;OAAzC;AAGA,eAAS,wBAAT,CAAkC,OAAlC,EAA2C;AACzC,eAAO,EAAE,IAAF,CAAO,mBAAP,EAA4B,EAAE,GAAF,EAAO,OAAnC,CAAP,CADyC;OAA3C;AAGA,eAAS,mBAAT,CAA6B,KAA7B,EAAoC,GAApC,EAAyC,OAAzC,EAAkD;AAChD,eAAO,EAAE,IAAF,CAAO,EAAE,QAAF,CAAW,OAAX,CAAP,EAA4B,EAAE,IAAF,CACjC,EAAE,KAAF,CAAQ,OAAR,EAAiB,EAAE,KAAF,CAAQ,KAAR,CAAjB,CADiC,EAEjC,EAAE,KAAF,CAAQ,KAAR,EAAe,EAAE,KAAF,CAAQ,GAAR,CAAf,CAFiC,EAGjC,EAAE,KAAF,CAAQ,SAAR,EAAmB,IAAnB,CAHiC,CAA5B,EAIJ,OAJI,CAAP,CADgD;OAAlD;AAOA,eAAS,oBAAT,CAA8B,KAA9B,EAAqC,GAArC,EAA0C,OAA1C,EAAmD;AACjD,eAAO,EAAE,MAAF,CAAS,OAAT,EACL,EAAE,SAAF,CAAY,CAAC,OAAD,EAAS,SAAT,CAAZ,EAAiC,KAAjC,CADK,EAEL,EAAE,SAAF,CAAY,CAAC,QAAD,EAAU,OAAV,CAAZ,EAAgC,EAAE,KAAF,CAAQ,KAAR,CAAhC,CAFK,EAGL,EAAE,SAAF,CAAY,CAAC,QAAD,EAAU,KAAV,CAAZ,EAA8B,EAAE,KAAF,CAAQ,GAAR,CAA9B,CAHK,EAIL,EAAE,SAAF,CAAY,CAAC,QAAD,EAAU,SAAV,CAAZ,EAAkC,IAAlC,CAJK,CAAP,CADiD;OAAnD;AAQA,eAAS,0BAAT,CAAoC,OAApC,EAA6C;AAC3C,eAAO,EAAE,KAAF,CAAQ,EAAE,IAAF,CAAO,QAAP,EAAiB,OAAjB,CAAR,CAAP,CAD2C;OAA7C;AAGA,eAAS,sBAAT,CAAgC,MAAhC,EAAwC,OAAxC,EAAiD;AAC/C,eAAO,EAAE,KAAF,CAAQ,QAAR,EAAkB,EAAE,KAAF,CAAQ,MAAR,CAAlB,EAAmC,OAAnC,CAAP,CAD+C;OAAjD;KApDK,CAF0B;GAAnC;CALD,CAAD","file":"segment.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('gameSegment', gameSegmentModelFactory);\n\n  gameSegmentModelFactory.$inject = [];\n  function gameSegmentModelFactory() {\n    const REMOTE_DISPLAY_LENS = R.lensPath(['remote','display']);\n    return function buildGameSegmentModel() {\n      const gameSegmentModel = {\n        create: gameSegmentCreate,\n        isDisplayed: gameSegmentIsDisplayed,\n        toggleDisplay: gameSegmentToggleDisplay,\n        setLocal: gameSegmentSetLocal,\n        setRemote: gameSegmentSetRemote,\n        saveRemoteState: gameSegmentSaveRemoteState,\n        resetRemote: gameSegmentResetRemote\n      };\n\n      R.curryService(gameSegmentModel);\n      return gameSegmentModel;\n\n      function gameSegmentCreate() {\n        return {\n          local: {\n            display: false,\n            start: { x: 0, y: 0 },\n            end: { x: 0, y: 0 }\n          },\n          remote: {\n            display: false,\n            start: { x: 0, y: 0 },\n            end: { x: 0, y: 0 }\n          }\n        };\n      }\n      function gameSegmentIsDisplayed(segment) {\n        return R.view(REMOTE_DISPLAY_LENS, segment);\n      }\n      function gameSegmentToggleDisplay(segment) {\n        return R.over(REMOTE_DISPLAY_LENS, R.not, segment);\n      }\n      function gameSegmentSetLocal(start, end, segment) {\n        return R.over(R.lensProp('local'), R.pipe(\n          R.assoc('start', R.clone(start)),\n          R.assoc('end', R.clone(end)),\n          R.assoc('display', true)\n        ), segment);\n      }\n      function gameSegmentSetRemote(start, end, segment) {\n        return R.thread(segment)(\n          R.assocPath(['local','display'], false),\n          R.assocPath(['remote','start'], R.clone(start)),\n          R.assocPath(['remote','end'], R.clone(end)),\n          R.assocPath(['remote','display'], true)\n        );\n      }\n      function gameSegmentSaveRemoteState(segment) {\n        return R.clone(R.prop('remote', segment));\n      }\n      function gameSegmentResetRemote(remote, segment) {\n        return R.assoc('remote', R.clone(remote), segment);\n      }\n    };\n  }\n})();\n"]}