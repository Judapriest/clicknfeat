{"version":3,"sources":["scenario.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,oBADX,EACiC,8BADjC,EADU;;AAIV,iCAA+B,OAA/B,GAAyC,CACvC,UADuC,CAAzC,CAJU;AAOV,WAAS,8BAAT,CAAwC,aAAxC,EAAuD;AACrD,QAAM,0BAA0B;AAC9B,gBAAU,mBAAV;AACA,eAAS,kBAAT;AACA,aAAO,gBAAP;KAHI,CAD+C;AAMrD,kBAAc,eAAd,CAA8B,aAA9B,EAA6C,uBAA7C,EANqD;AAOrD,WAAO,uBAAP,CAPqD;;AASrD,aAAS,mBAAT,CAA6B,QAA7B,EAAuC,KAAvC,EAA8C,IAA9C,EAAoD;AAClD,UAAI,OAAO;AACT,gBAAQ,KAAK,QAAL;AACR,eAAO,QAAP;AACA,cAAM,SAAS,IAAT;OAHJ,CAD8C;AAMlD,aAAO,EAAE,KAAF,CAAQ,UAAR,EAAoB,QAApB,EAA8B,IAA9B,CAAP,CANkD;;AAQlD,YAAM,iBAAN,CAAwB,sBAAxB,EARkD;;AAUlD,aAAO,CAAC,IAAD,EAAO,IAAP,CAAP,CAVkD;KAApD;AAYA,aAAS,kBAAT,CAA4B,IAA5B,EAAkC,KAAlC,EAAyC,IAAzC,EAA+C;AAC7C,aAAO,EAAE,KAAF,CAAQ,UAAR,EAAoB,KAAK,KAAL,EAAY,IAAhC,CAAP,CAD6C;;AAG7C,YAAM,iBAAN,CAAwB,sBAAxB,EAH6C;;AAK7C,aAAO,IAAP,CAL6C;KAA/C;AAOA,aAAS,gBAAT,CAA0B,IAA1B,EAAgC,KAAhC,EAAuC,IAAvC,EAA6C;AAC3C,aAAO,EAAE,KAAF,CAAQ,UAAR,EAAoB,KAAK,MAAL,EAAa,IAAjC,CAAP,CAD2C;;AAG3C,YAAM,iBAAN,CAAwB,sBAAxB,EAH2C;;AAK3C,aAAO,IAAP,CAL2C;KAA7C;GA5BF;CAPD,CAAD","file":"scenario.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('setScenarioCommand', setScenarioCommandModelFactory);\n\n  setScenarioCommandModelFactory.$inject = [\n    'commands',\n  ];\n  function setScenarioCommandModelFactory(commandsModel) {\n    const setScenarioCommandModel = {\n      executeP: setScenarioExecuteP,\n      replayP: setScenarioReplayP,\n      undoP: setScenarioUndoP\n    };\n    commandsModel.registerCommand('setScenario', setScenarioCommandModel);\n    return setScenarioCommandModel;\n\n    function setScenarioExecuteP(scenario, state, game) {\n      var ctxt = {\n        before: game.scenario,\n        after: scenario,\n        desc: scenario.name\n      };\n      game = R.assoc('scenario', scenario, game);\n\n      state.queueChangeEventP('Game.scenario.change');\n\n      return [ctxt, game];\n    }\n    function setScenarioReplayP(ctxt, state, game) {\n      game = R.assoc('scenario', ctxt.after, game);\n\n      state.queueChangeEventP('Game.scenario.change');\n\n      return game;\n    }\n    function setScenarioUndoP(ctxt, state, game) {\n      game = R.assoc('scenario', ctxt.before, game);\n\n      state.queueChangeEventP('Game.scenario.change');\n\n      return game;\n    }\n  }\n})();\n"]}