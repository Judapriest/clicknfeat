{"version":3,"sources":["area.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,WADX,EACwB,qBADxB,EADU;;AAIV,wBAAsB,OAAtB,GAAgC,CAC9B,cAD8B,CAAhC,CAJU;AAOV,WAAS,qBAAT,CAA+B,iBAA/B,EAAkD;AAChD,WAAO,YAAM;AACX,UAAM,iBAAiB;AACrB,8BAAsB,yBAAtB;AACA,4BAAoB,uBAApB;AACA,+BAAuB,0BAAvB;AACA,yBAAiB,oBAAjB;AACA,qBAAa,gBAAb;AACA,wBAAgB,mBAAhB;AACA,2BAAmB,sBAAnB;OAPI,CADK;AAUX,aAAO,cAAP,CAVW;;AAYX,eAAS,yBAAT,CAAmC,QAAnC,EAA6C,KAA7C,EAAoD;AAClD,eAAO,EAAE,OAAF,CAAU,QAAV,EACL,kBAAkB,cAAlB,CAAiC,MAAM,KAAN,CAAY,IAAZ,CAD5B,EAEL,UAAC,IAAD,EAAU;AACR,iBAAS,KAAK,IAAL,KAAc,SAAd,KACE,aAAa,EAAE,IAAF,CAAO,KAAK,KAAL,CAApB,IACA,aAAa,EAAE,IAAF,CAAO,KAAK,IAAL,CAApB,CAFF,IAIA,CAAC,CAAC,EAAE,IAAF,CAAO,EAAE,MAAF,CAAS,GAAT,CAAP,EAAsB,MAAM,KAAN,CAAY,GAAZ,CAAvB,CALF;SAAV,CAFF,CADkD;OAApD;AAaA,eAAS,uBAAT,CAAiC,GAAjC,EAAsC,KAAtC,EAA6C;AAC3C,YAAG,GAAH,EAAQ;AACN,iBAAO,EAAE,IAAF,CAAO,EAAE,QAAF,CAAW,CAAC,OAAD,EAAS,KAAT,CAAX,CAAP,EACO,EAAE,OAAF,CAAU,EAAE,IAAF,EAAQ,EAAE,MAAF,CAAS,GAAT,CAAlB,CADP,EAEO,KAFP,CAAP,CADM;SAAR,MAKK;AACH,iBAAO,EAAE,IAAF,CAAO,EAAE,QAAF,CAAW,CAAC,OAAD,EAAS,KAAT,CAAX,CAAP,EACO,EAAE,MAAF,CAAS,EAAE,MAAF,CAAS,GAAT,CAAT,CADP,EAEO,KAFP,CAAP,CADG;SALL;OADF;AAYA,eAAS,0BAAT,CAAoC,KAApC,EAA2C;AACzC,YAAG,EAAE,IAAF,CAAO,EAAE,MAAF,CAAS,GAAT,CAAP,EAAsB,MAAM,KAAN,CAAY,GAAZ,CAAzB,EAA2C;AACzC,iBAAO,EAAE,IAAF,CAAO,EAAE,QAAF,CAAW,CAAC,OAAD,EAAS,KAAT,CAAX,CAAP,EACO,EAAE,MAAF,CAAS,EAAE,MAAF,CAAS,GAAT,CAAT,CADP,EAEO,KAFP,CAAP,CADyC;SAA3C,MAKK;AACH,iBAAO,EAAE,IAAF,CAAO,EAAE,QAAF,CAAW,CAAC,OAAD,EAAS,KAAT,CAAX,CAAP,EACO,EAAE,MAAF,CAAS,GAAT,CADP,EAEO,KAFP,CAAP,CADG;SALL;OADF;AAYA,eAAS,oBAAT,CAA8B,KAA9B,EAAqC;AACnC,eAAO,EAAE,MAAF,CAAS,MAAM,KAAN,CAAY,GAAZ,CAAhB,CADmC;OAArC;AAGA,eAAS,gBAAT,CAA0B,KAA1B,EAAiC;AAC/B,eAAO,MAAM,KAAN,CAAY,GAAZ,CADwB;OAAjC;AAGA,eAAS,mBAAT,CAA6B,IAA7B,EAAmC,KAAnC,EAA0C;AACxC,eAAO,EAAE,SAAF,CAAY,CAAC,OAAD,EAAS,KAAT,CAAZ,EAA6B,IAA7B,EAAmC,KAAnC,CAAP,CADwC;OAA1C;AAGA,eAAS,sBAAT,CAAgC,IAAhC,EAAsC,KAAtC,EAA6C;AAC3C,eAAO,EAAE,IAAF,CAAO,EAAE,QAAF,CAAW,CAAC,OAAD,EAAS,KAAT,CAAX,CAAP,EACO,UAAC,GAAD,EAAS;AAAE,iBAAO,IAAC,KAAS,GAAT,GAAgB,IAAjB,GAAwB,IAAxB,CAAT;SAAT,EACA,KAFP,CAAP,CAD2C;OAA7C;KA1DK,CADyC;GAAlD;CAPD,CAAD","file":"area.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('modelArea', modelAreaModelFactory);\n\n  modelAreaModelFactory.$inject = [\n    'gameFactions',\n  ];\n  function modelAreaModelFactory(gameFactionsModel) {\n    return () => {\n      const modelAreaModel = {\n        isCtrlAreaDisplayedP: modelIsCtrlAreaDisplayedP,\n        setCtrlAreaDisplay: modelSetCtrlAreaDisplay,\n        toggleCtrlAreaDisplay: modelToggleCtrlAreaDisplay,\n        isAreaDisplayed: modelIsAreaDisplayed,\n        areaDisplay: modelAreaDisplay,\n        setAreaDisplay: modelSetAreaDisplay,\n        toggleAreaDisplay: modelToggleAreaDisplay\n      };\n      return modelAreaModel;\n\n      function modelIsCtrlAreaDisplayedP(factions, model) {\n        return R.threadP(factions)(\n          gameFactionsModel.getModelInfoP$(model.state.info),\n          (info) => {\n            return ( info.type === 'wardude' &&\n                     ( 'Number' === R.type(info.focus) ||\n                       'Number' === R.type(info.fury)\n                     ) &&\n                     !!R.find(R.equals('a'), model.state.dsp)\n                   );\n          }\n        );\n      }\n      function modelSetCtrlAreaDisplay(set, model) {\n        if(set) {\n          return R.over(R.lensPath(['state','dsp']),\n                        R.compose(R.uniq, R.append('a')),\n                        model);\n        }\n        else {\n          return R.over(R.lensPath(['state','dsp']),\n                        R.reject(R.equals('a')),\n                        model);\n        }\n      }\n      function modelToggleCtrlAreaDisplay(model) {\n        if(R.find(R.equals('a'), model.state.dsp)) {\n          return R.over(R.lensPath(['state','dsp']),\n                        R.reject(R.equals('a')),\n                        model);\n        }\n        else {\n          return R.over(R.lensPath(['state','dsp']),\n                        R.append('a'),\n                        model);\n        }\n      }\n      function modelIsAreaDisplayed(model) {\n        return R.exists(model.state.are);\n      }\n      function modelAreaDisplay(model) {\n        return model.state.are;\n      }\n      function modelSetAreaDisplay(area, model) {\n        return R.assocPath(['state','are'], area, model);\n      }\n      function modelToggleAreaDisplay(area, model) {\n        return R.over(R.lensPath(['state','are']),\n                      (are) => { return (area === are) ? null : area; },\n                      model);\n      }\n    };\n  }\n})();\n"]}