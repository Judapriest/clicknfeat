{"version":3,"sources":["area.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,WADX,EACwB,qBADxB,EADU;;AAIV,wBAAsB,OAAtB,GAAgC,EAAhC,CAJU;AAKV,WAAS,qBAAT,GAAiC;AAC/B,QAAM,WAAW,EAAE,QAAF,CAAW,CAAC,OAAD,EAAS,KAAT,CAAX,CAAX,CADyB;AAE/B,QAAM,YAAY,EAAE,QAAF,CAAW,CAAC,OAAD,EAAS,KAAT,CAAX,CAAZ,CAFyB;AAG/B,WAAO,YAAM;AACX,UAAM,iBAAiB;AACrB,6BAAqB,wBAArB;AACA,4BAAoB,uBAApB;AACA,+BAAuB,0BAAvB;AACA,yBAAiB,oBAAjB;AACA,qBAAa,gBAAb;AACA,wBAAgB,mBAAhB;AACA,2BAAmB,sBAAnB;AACA,oBAAY,eAAZ;OARI,CADK;AAWX,aAAO,cAAP,CAXW;;AAaX,eAAS,wBAAT,CAAkC,KAAlC,EAAyC;AACvC,YAAM,OAAO,MAAM,IAAN,CAD0B;AAEvC,eAAS,KAAK,IAAL,KAAc,SAAd,KACE,aAAa,EAAE,IAAF,CAAO,KAAK,KAAL,CAApB,IACA,aAAa,EAAE,IAAF,CAAO,KAAK,IAAL,CAApB,CAFF,IAIA,CAAC,CAAC,EAAE,IAAF,CAAO,EAAE,MAAF,CAAS,GAAT,CAAP,EAAsB,EAAE,MAAF,CAAS,EAAT,EAAa,QAAb,EAAuB,KAAvB,CAAtB,CAAD,CAN6B;OAAzC;AASA,eAAS,uBAAT,CAAiC,GAAjC,EAAsC,KAAtC,EAA6C;AAC3C,YAAM,SAAW,MACE,EAAE,OAAF,CAAU,EAAE,IAAF,EAAQ,EAAE,MAAF,CAAS,GAAT,CAAlB,CADF,GAEE,EAAE,MAAF,CAAS,EAAE,MAAF,CAAS,GAAT,CAAT,CAFF,CAD0B;AAK3C,eAAO,EAAE,IAAF,CAAO,QAAP,EAAiB,MAAjB,EAAyB,KAAzB,CAAP,CAL2C;OAA7C;AAOA,eAAS,0BAAT,CAAoC,KAApC,EAA2C;AACzC,YAAM,SAAW,EAAE,IAAF,CAAO,EAAE,MAAF,CAAS,GAAT,CAAP,EAAsB,MAAM,KAAN,CAAY,GAAZ,CAAtB,GACE,EAAE,MAAF,CAAS,EAAE,MAAF,CAAS,GAAT,CAAT,CADF,GAEE,EAAE,MAAF,CAAS,GAAT,CAFF,CADwB;AAKzC,eAAO,EAAE,IAAF,CAAO,QAAP,EAAiB,MAAjB,EAAyB,KAAzB,CAAP,CALyC;OAA3C;AAOA,eAAS,oBAAT,CAA8B,KAA9B,EAAqC;AACnC,eAAO,EAAE,MAAF,CAAS,EAAE,IAAF,CAAO,SAAP,EAAkB,KAAlB,CAAT,CAAP,CADmC;OAArC;AAGA,eAAS,gBAAT,CAA0B,KAA1B,EAAiC;AAC/B,eAAO,EAAE,IAAF,CAAO,SAAP,EAAkB,KAAlB,CAAP,CAD+B;OAAjC;AAGA,eAAS,mBAAT,CAA6B,IAA7B,EAAmC,KAAnC,EAA0C;AACxC,eAAO,EAAE,GAAF,CAAM,SAAN,EAAiB,IAAjB,EAAuB,KAAvB,CAAP,CADwC;OAA1C;AAGA,eAAS,sBAAT,CAAgC,IAAhC,EAAsC,KAAtC,EAA6C;AAC3C,eAAO,EAAE,IAAF,CACL,SADK,EAEL,UAAC,GAAD;iBAAU,IAAC,KAAS,GAAT,GAAgB,IAAjB,GAAwB,IAAxB;SAAV,EACA,KAHK,CAAP,CAD2C;OAA7C;AAOA,eAAS,eAAT,OAE4B,KAF5B,EAEmC;YAFR,iBAEQ;YADR,qBACQ;;AACjC,YAAM,OAAS,eAAe,eAAf,CAA+B,EAAC,YAAD,EAA/B,IACE,eAAe,WAAf,CAA2B,EAAC,YAAD,EAA3B,IAAsC,EAAtC,GAA2C,MAA3C,GACA,IAFF,CADkB;AAKjC,YAAM,OAAS,eAAe,mBAAf,CAAmC,EAAC,UAAD,EAAO,YAAP,EAAnC,IACE,CAAC,KAAK,KAAL,IAAc,KAAK,IAAL,CAAf,GAA4B,EAA5B,GAAiC,MAAjC,GACA,IAFF,CALkB;AASjC,eAAO;AACL,oBADK;AAEL,oBAFK;SAAP,CATiC;OAFnC;KApDK,CAHwB;GAAjC;CALD,CAAD","file":"area.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('modelArea', modelAreaModelFactory);\n\n  modelAreaModelFactory.$inject = [];\n  function modelAreaModelFactory() {\n    const DSP_LENS = R.lensPath(['state','dsp']);\n    const AREA_LENS = R.lensPath(['state','are']);\n    return () => {\n      const modelAreaModel = {\n        isCtrlAreaDisplayed: modelIsCtrlAreaDisplayed,\n        setCtrlAreaDisplay: modelSetCtrlAreaDisplay,\n        toggleCtrlAreaDisplay: modelToggleCtrlAreaDisplay,\n        isAreaDisplayed: modelIsAreaDisplayed,\n        areaDisplay: modelAreaDisplay,\n        setAreaDisplay: modelSetAreaDisplay,\n        toggleAreaDisplay: modelToggleAreaDisplay,\n        renderArea: modelRenderArea\n      };\n      return modelAreaModel;\n\n      function modelIsCtrlAreaDisplayed(model) {\n        const info = model.info;\n        return ( info.type === 'wardude' &&\n                 ( 'Number' === R.type(info.focus) ||\n                   'Number' === R.type(info.fury)\n                 ) &&\n                 !!R.find(R.equals('a'), R.viewOr([], DSP_LENS, model))\n               );\n      }\n      function modelSetCtrlAreaDisplay(set, model) {\n        const update = ( set\n                         ? R.compose(R.uniq, R.append('a'))\n                         : R.reject(R.equals('a'))\n                       );\n        return R.over(DSP_LENS, update, model);\n      }\n      function modelToggleCtrlAreaDisplay(model) {\n        const update = ( R.find(R.equals('a'), model.state.dsp)\n                         ? R.reject(R.equals('a'))\n                         : R.append('a')\n                       );\n        return R.over(DSP_LENS, update, model);\n      }\n      function modelIsAreaDisplayed(model) {\n        return R.exists(R.view(AREA_LENS, model));\n      }\n      function modelAreaDisplay(model) {\n        return R.view(AREA_LENS, model);\n      }\n      function modelSetAreaDisplay(area, model) {\n        return R.set(AREA_LENS, area, model);\n      }\n      function modelToggleAreaDisplay(area, model) {\n        return R.over(\n          AREA_LENS,\n          (are) => ((area === are) ? null : area),\n          model\n        );\n      }\n      function modelRenderArea({ info,\n                                 radius\n                               }, state) {\n        const area = ( modelAreaModel.isAreaDisplayed({state})\n                       ? modelAreaModel.areaDisplay({state}) * 10 + radius\n                       : null\n                     );\n        const ctrl = ( modelAreaModel.isCtrlAreaDisplayed({info, state})\n                       ? (info.focus || info.fury) * 20 + radius\n                       : null\n                     );\n        return {\n          area,\n          ctrl\n        };\n      }\n    };\n  }\n})();\n"]}