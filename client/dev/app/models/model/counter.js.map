{"version":3,"sources":["counter.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,cADX,EAC2B,wBAD3B,EADU;;AAIV,2BAAyB,OAAzB,GAAmC,EAAnC,CAJU;AAKV,WAAS,wBAAT,GAAoC;AAClC,QAAM,WAAW,EAAE,QAAF,CAAW,CAAC,OAAD,EAAS,KAAT,CAAX,CAAX,CAD4B;AAElC,WAAO,UAAC,UAAD,EAAgB;AACrB,UAAM,oBAAoB;AACxB,4BAAoB,uBAApB;AACA,0BAAkB,qBAAlB;AACA,0BAAkB,qBAAlB;AACA,2BAAmB,sBAAnB;AACA,8BAAsB,yBAAtB;OALI,CADe;AAQrB,aAAO,iBAAP,CARqB;;AAUrB,eAAS,uBAAT,CAAiC,OAAjC,EAA0C,KAA1C,EAAiD;AAC/C,eAAO,CAAC,CAAC,EAAE,IAAF,CAAO,EAAE,MAAF,CAAS,OAAT,CAAP,EAA0B,EAAE,MAAF,CAAS,EAAT,EAAa,QAAb,EAAuB,KAAvB,CAA1B,CAAD,CADuC;OAAjD;AAGA,eAAS,qBAAT,CAA+B,OAA/B,EAAwC,KAAxC,EAA+C;AAC7C,YAAM,QAAQ,EAAE,SAAF,CAAY,CAAZ,EAAe,MAAM,KAAN,CAAY,OAAZ,CAAf,IAAuC,CAAvC,CAD+B;AAE7C,eAAO,EAAE,SAAF,CAAY,CAAC,OAAD,EAAU,OAAV,CAAZ,EAAgC,KAAhC,EAAuC,KAAvC,CAAP,CAF6C;OAA/C;AAIA,eAAS,qBAAT,CAA+B,OAA/B,EAAwC,KAAxC,EAA+C;AAC7C,YAAM,QAAQ,KAAK,GAAL,CAAS,CAAT,EAAY,EAAE,SAAF,CAAY,CAAZ,EAAe,MAAM,KAAN,CAAY,OAAZ,CAAf,IAAuC,CAAvC,CAApB,CADuC;AAE7C,eAAO,EAAE,SAAF,CAAY,CAAC,OAAD,EAAU,OAAV,CAAZ,EAAgC,KAAhC,EAAuC,KAAvC,CAAP,CAF6C;OAA/C;AAIA,eAAS,sBAAT,CAAgC,OAAhC,EAAyC,GAAzC,EAA8C,KAA9C,EAAqD;AACnD,YAAM,SAAW,MACE,EAAE,OAAF,CAAU,EAAE,IAAF,EAAQ,EAAE,MAAF,CAAS,OAAT,CAAlB,CADF,GAEE,EAAE,MAAF,CAAS,EAAE,MAAF,CAAS,OAAT,CAAT,CAFF,CADkC;AAKnD,eAAO,EAAE,IAAF,CAAO,QAAP,EAAiB,MAAjB,EAAyB,KAAzB,CAAP,CALmD;OAArD;AAOA,eAAS,yBAAT,CAAmC,OAAnC,EAA4C,KAA5C,EAAmD;AACjD,YAAM,SAAW,WAAW,kBAAX,CAA8B,OAA9B,EAAuC,KAAvC,IACE,EAAE,MAAF,CAAS,EAAE,MAAF,CAAS,OAAT,CAAT,CADF,GAEE,EAAE,MAAF,CAAS,OAAT,CAFF,CADgC;AAKjD,eAAO,EAAE,IAAF,CAAO,QAAP,EAAiB,MAAjB,EAAyB,KAAzB,CAAP,CALiD;OAAnD;KA5BK,CAF2B;GAApC;CALD,CAAD","file":"counter.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('modelCounter', modelCounterModelFactory);\n\n  modelCounterModelFactory.$inject = [];\n  function modelCounterModelFactory() {\n    const DSP_LENS = R.lensPath(['state','dsp']);\n    return (modelModel) => {\n      const modelCounterModel = {\n        isCounterDisplayed: modelIsCounterDisplayed,\n        incrementCounter: modelIncrementCounter,\n        decrementCounter: modelDecrementCounter,\n        setCounterDisplay: modelSetCounterDisplay,\n        toggleCounterDisplay: modelToggleCounterDisplay\n      };\n      return modelCounterModel;\n\n      function modelIsCounterDisplayed(counter, model) {\n        return !!R.find(R.equals(counter), R.viewOr([], DSP_LENS, model));\n      }\n      function modelIncrementCounter(counter, model) {\n        const value = R.defaultTo(0, model.state[counter]) + 1;\n        return R.assocPath(['state', counter], value, model);\n      }\n      function modelDecrementCounter(counter, model) {\n        const value = Math.max(0, R.defaultTo(0, model.state[counter]) - 1);\n        return R.assocPath(['state', counter], value, model);\n      }\n      function modelSetCounterDisplay(counter, set, model) {\n        const update = ( set\n                         ? R.compose(R.uniq, R.append(counter))\n                         : R.reject(R.equals(counter))\n                       );\n        return R.over(DSP_LENS, update, model);\n      }\n      function modelToggleCounterDisplay(counter, model) {\n        const update = ( modelModel.isCounterDisplayed(counter, model)\n                         ? R.reject(R.equals(counter))\n                         : R.append(counter)\n                       );\n        return R.over(DSP_LENS, update, model);\n      }\n    };\n  }\n})();\n"]}