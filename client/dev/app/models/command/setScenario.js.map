{"version":3,"sources":["setScenario.es6"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,oBADX,EACiC,CAC7B,UAD6B,EAE7B,SAAS,gCAAT,CAA0C,eAA1C,EAA2D;AACzD,MAAI,4BAA4B;AAC9B,aAAS,SAAS,kBAAT,CAA4B,QAA5B,EAAsC,KAAtC,EAA6C,IAA7C,EAAmD;AAC1D,UAAI,OAAO;AACT,gBAAQ,KAAK,QAAL;AACR,eAAO,QAAP;AACA,cAAM,SAAS,IAAT;OAHJ,CADsD;AAM1D,aAAO,EAAE,KAAF,CAAQ,UAAR,EAAoB,QAApB,EAA8B,IAA9B,CAAP,CAN0D;;AAQ1D,YAAM,WAAN,CAAkB,sBAAlB,EAR0D;;AAU1D,aAAO,CAAC,IAAD,EAAO,IAAP,CAAP,CAV0D;KAAnD;AAYT,YAAQ,SAAS,eAAT,CAAyB,IAAzB,EAA+B,KAA/B,EAAsC,IAAtC,EAA4C;AAClD,aAAO,EAAE,KAAF,CAAQ,UAAR,EAAoB,KAAK,KAAL,EAAY,IAAhC,CAAP,CADkD;;AAGlD,YAAM,WAAN,CAAkB,sBAAlB,EAHkD;;AAKlD,aAAO,IAAP,CALkD;KAA5C;AAOR,UAAM,SAAS,eAAT,CAAyB,IAAzB,EAA+B,KAA/B,EAAsC,IAAtC,EAA4C;AAChD,aAAO,EAAE,KAAF,CAAQ,UAAR,EAAoB,KAAK,MAAL,EAAa,IAAjC,CAAP,CADgD;;AAGhD,YAAM,WAAN,CAAkB,sBAAlB,EAHgD;;AAKhD,aAAO,IAAP,CALgD;KAA5C;GApBJ,CADqD;AA6BzD,kBAAgB,eAAhB,CAAgC,aAAhC,EAA+C,yBAA/C,EA7ByD;AA8BzD,SAAO,yBAAP,CA9ByD;CAA3D,CAHJ","file":"setScenario.js","sourcesContent":["'use strict';\n\nangular.module('clickApp.services')\n  .factory('setScenarioCommand', [\n    'commands',\n    function setScenarioCommandServiceFactory(commandsService) {\n      var setScenarioCommandService = {\n        execute: function setScenarioExecute(scenario, state, game) {\n          var ctxt = {\n            before: game.scenario,\n            after: scenario,\n            desc: scenario.name\n          };\n          game = R.assoc('scenario', scenario, game);\n\n          state.changeEvent('Game.scenario.change');\n          \n          return [ctxt, game];\n        },\n        replay: function setScenarioRedo(ctxt, state, game) {\n          game = R.assoc('scenario', ctxt.after, game);\n\n          state.changeEvent('Game.scenario.change');\n\n          return game;\n        },\n        undo: function setScenarioUndo(ctxt, state, game) {\n          game = R.assoc('scenario', ctxt.before, game);\n          \n          state.changeEvent('Game.scenario.change');\n\n          return game;\n        }\n      };\n      commandsService.registerCommand('setScenario', setScenarioCommandService);\n      return setScenarioCommandService;\n    }\n  ]);\n"]}