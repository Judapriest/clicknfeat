{"version":3,"sources":["point.es6"],"names":[],"mappings":"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","file":"point.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('point', pointModelFactory);\n\n  pointModelFactory.$inject = [];\n  function pointModelFactory() {\n    const pointModel = {\n      moveFront: pointMoveFront,\n      moveBack: pointMoveBack,\n      rotateLeft: pointRotateLeft,\n      rotateLeftAround: pointRotateLeftAround,\n      rotateRight: pointRotateRight,\n      rotateRightAround: pointRotateRightAround,\n      rotateAroundTo: pointRotateAroundTo,\n      shiftLeft: pointShiftLeft,\n      shiftRight: pointShiftRight,\n      shiftUp: pointShiftUp,\n      shiftDown: pointShiftDown,\n      distanceTo: pointDistanceTo,\n      directionTo: pointDirectionTo,\n      translateInDirection: pointTranslateInDirection,\n      translateInVector: pointTranslateInVector,\n      addToWithFlip: pointAddToWithFlip,\n      differenceFrom: pointDifferenceFrom,\n      vectorProduct: pointVectorProduct,\n      scalarProduct: pointScalarProduct\n    };\n\n    R.curryService(pointModel);\n    return pointModel;\n\n    function pointMoveFront(dist, point) {\n      const rad = point.r * Math.PI / 180;\n      return R.pipe(\n        R.assoc('x', point.x + dist * Math.sin(rad)),\n        R.assoc('y', point.y - dist * Math.cos(rad))\n      )(point);\n    }\n    function pointMoveBack(dist, point) {\n      const rad = point.r * Math.PI / 180;\n      return R.pipe(\n        R.assoc('x', point.x - dist * Math.sin(rad)),\n        R.assoc('y', point.y + dist * Math.cos(rad))\n      )(point);\n    }\n    function pointRotateLeft(angle, point) {\n      return R.assoc('r', point.r - angle, point);\n    }\n    function pointRotateLeftAround(angle, center, point) {\n      const direction = pointModel.directionTo(point, center);\n      const distance = pointModel.distanceTo(point, center);\n      const new_direction = direction - angle;\n      return R.pipe(\n        R.assoc('x', center.x + distance * Math.sin(new_direction * Math.PI / 180)),\n        R.assoc('y', center.y - distance * Math.cos(new_direction * Math.PI / 180))\n      )(point);\n    }\n    function pointRotateRight(angle, point) {\n      return R.assoc('r', point.r + angle, point);\n    }\n    function pointRotateRightAround(angle, center, point) {\n      const direction = pointModel.directionTo(point, center);\n      const distance = pointModel.distanceTo(point, center);\n      const new_direction = direction + angle;\n      return R.pipe(\n        R.assoc('x', center.x + distance * Math.sin(new_direction * Math.PI / 180)),\n        R.assoc('y', center.y - distance * Math.cos(new_direction * Math.PI / 180))\n      )(point);\n    }\n    function pointRotateAroundTo(direction, center, point) {\n      const distance = pointModel.distanceTo(point, center);\n      return R.pipe(\n        R.assoc('x', center.x + distance * Math.sin(direction * Math.PI / 180)),\n        R.assoc('y', center.y - distance * Math.cos(direction * Math.PI / 180))\n      )(point);\n    }\n    function pointShiftLeft(dist, point) {\n      return R.assoc('x', point.x - dist, point);\n    }\n    function pointShiftRight(dist, point) {\n      return R.assoc('x', point.x + dist, point);\n    }\n    function pointShiftUp(dist, point) {\n      return R.assoc('y', point.y - dist, point);\n    }\n    function pointShiftDown(dist, point) {\n      return R.assoc('y', point.y + dist, point);\n    }\n    function pointDistanceTo(other, point) {\n      return Math.sqrt( Math.pow(other.x - point.x, 2) +\n                        Math.pow(other.y - point.y, 2)\n                      );\n    }\n    function pointDirectionTo(other, point) {\n      return 180 * Math.atan2(\n        other.x - point.x,\n        point.y - other.y\n      ) / Math.PI;\n    }\n    function pointTranslateInDirection(distance, direction, point) {\n      direction = direction * Math.PI / 180;\n      return R.pipe(\n        R.assoc('x', point.x + distance * Math.sin(direction)),\n        R.assoc('y', point.y - distance * Math.cos(direction))\n      )(point);\n    }\n    function pointTranslateInVector(distance, vector, point) {\n      return R.pipe(\n        R.assoc('x', point.x + distance * vector.x),\n        R.assoc('y', point.y + distance * vector.y)\n      )(point);\n    }\n    function pointAddToWithFlip(flip, other, point) {\n      const coeff = flip ? -1 : 1;\n      const phase = flip ? 180 : 0;\n      return R.pipe(\n        R.assoc('x', other.x + coeff * point.x),\n        R.assoc('y', other.y + coeff * point.y),\n        R.assoc('r', other.r + point.r + phase)\n      )(point);\n    }\n    function pointDifferenceFrom(other, point) {\n      return R.pipe(\n        R.assoc('x', point.x - other.x),\n        R.assoc('y', point.y - other.y),\n        R.assoc('r', point.r - other.r)\n      )(point);\n    }\n    function pointVectorProduct(other, point) {\n      return other.y * point.x - other.x * point.y;\n    }\n    function pointScalarProduct(other, point) {\n      return other.x * point.x + other.y * point.y;\n    }\n\n  }\n})();\n"]}