{"version":3,"sources":["settingsModelsCtrl.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,sBAAf,EACG,UADH,CACc,oBADd,EACoC,kBADpC,EADU;;AAIV,qBAAmB,OAAnB,GAA6B,CAC3B,QAD2B,CAA7B,CAJU;AAOV,WAAS,kBAAT,CAA4B,MAA5B,EAAoC;AAClC,QAAM,KAAK,IAAL,CAD4B;AAElC,YAAQ,GAAR,CAAY,yBAAZ,EAFkC;;AAIlC,OAAG,OAAH,GAAa,OAAb,CAJkC;AAKlC,OAAG,iBAAH,GAAuB,iBAAvB,CALkC;AAMlC,OAAG,kBAAH,GAAwB,kBAAxB,CANkC;AAOlC,OAAG,cAAH,GAAoB,cAApB,CAPkC;;AASlC,eATkC;;AAWlC,aAAS,QAAT,GAAoB;AAClB,WAAK,qBAAL,CAA2B,cAA3B,EADkB;AAElB,aAAO,kBAAP,CAA0B,iBAA1B,EAA6C,cAA7C,EAA6D,MAA7D,EAFkB;AAGlB,aAAO,kBAAP,CAA0B,uBAA1B,EAAmD,gBAAnD,EAAqE,MAArE,EAHkB;KAApB;AAKA,aAAS,cAAT,GAA0B;AACxB,SAAG,QAAH,GAAc,EAAE,IAAF,CAAO,CAAC,UAAD,EAAa,MAAb,CAAP,EAA6B,OAAO,KAAP,CAA3C,CADwB;AAExB,aAAO,OAAP,GAFwB;KAA1B;AAIA,aAAS,gBAAT,CAA0B,KAA1B,EAAiC,MAAjC,EAAyC;AACvC,aAAO,MAAP,GAAgB,MAAhB,CADuC;AAEvC,aAAO,OAAP,GAFuC;KAAzC;AAIA,aAAS,OAAT,CAAiB,OAAjB,EAA0B;AACxB,aAAO,EAAE,MAAF,CAAS,OAAO,KAAP,CAAT,CACL,EAAE,IAAF,CAAO,CAAC,UAAD,EAAY,MAAZ,EAAmB,OAAnB,CAAP,CADK,EAEL,EAAE,IAAF,EACA,EAAE,MAAF,CAAS,QAAT,CAHK,CAAP,CADwB;KAA1B;AAOA,aAAS,iBAAT,CAA2B,OAA3B,EAAoC,KAApC,EAA2C;AACzC,aAAO,UAAP,CAAkB,uBAAlB,EAA2C,OAA3C,EAAoD,MAAM,CAAN,CAApD,EADyC;KAA3C;AAGA,aAAS,kBAAT,CAA4B,OAA5B,EAAqC;AACnC,aAAO,UAAP,CAAkB,oBAAlB,EAAwC,OAAxC,EADmC;KAArC;AAGA,aAAS,cAAT,GAA0B;AACxB,aAAO,UAAP,CAAkB,uBAAlB,EADwB;KAA1B;GArCF;CAPD,CAAD","file":"settingsModelsCtrl.js","sourcesContent":["(function() {\n  angular.module('clickApp.controllers')\n    .controller('settingsModelsCtrl', settingsModelsCtrl);\n\n  settingsModelsCtrl.$inject = [\n    '$scope',\n  ];\n  function settingsModelsCtrl($scope) {\n    const vm = this;\n    console.log('init settingsModelsCtrl');\n\n    vm.hasDesc = hasDesc;\n    vm.doOpenFactionFile = doOpenFactionFile;\n    vm.doClearFactionDesc = doClearFactionDesc;\n    vm.doClearAllDesc = doClearAllDesc;\n\n    activate();\n\n    function activate() {\n      self.requestAnimationFrame(updateFactions);\n      $scope.onStateChangeEvent('Factions.change', updateFactions, $scope);\n      $scope.onStateChangeEvent('Factions.loadDescFile', updateLoadResult, $scope);\n    }\n    function updateFactions() {\n      vm.factions = R.path(['factions', 'base'], $scope.state);\n      $scope.$digest();\n    }\n    function updateLoadResult(event, result) {\n      $scope.result = result;\n      $scope.$digest();\n    }\n    function hasDesc(faction) {\n      return R.thread($scope.state)(\n        R.path(['factions','desc',faction]),\n        R.type,\n        R.equals('Object')\n      );\n    }\n    function doOpenFactionFile(faction, files) {\n      $scope.stateEvent('Factions.loadDescFile', faction, files[0]);\n    }\n    function doClearFactionDesc(faction) {\n      $scope.stateEvent('Factions.clearDesc', faction);\n    }\n    function doClearAllDesc() {\n      $scope.stateEvent('Factions.clearAllDesc');\n    }\n  }\n})();\n"]}