{"version":3,"sources":["settingsCtrl.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,sBAAf,EACG,UADH,CACc,cADd,EAC8B,YAD9B,EADU;;AAIV,eAAa,OAAb,GAAuB,CACrB,QADqB,CAAvB,CAJU;AAOV,WAAS,YAAT,CAAsB,MAAtB,EAA8B;AAC5B,QAAM,KAAK,IAAL,CADsB;AAE5B,YAAQ,GAAR,CAAY,mBAAZ,EAF4B;;AAI5B,OAAG,gBAAH,GAAsB,gBAAtB,CAJ4B;;AAM5B,eAN4B;;AAQ5B,aAAS,QAAT,GAAoB;AAClB,aAAO,KAAP,CAAa,UAAb,CAAwB,IAAxB,CAA6B,kBAA7B,EADkB;AAElB,aAAO,kBAAP,CAA0B,yBAA1B,EAC0B,kBAD1B,EAC8C,MAD9C,EAFkB;KAApB;AAKA,aAAS,kBAAT,GAA8B;AAC5B,SAAG,IAAH,GAAU,EAAE,MAAF,CAAS,OAAO,KAAP,CAAT,CACR,EAAE,IAAF,CAAO,CAAC,UAAD,EAAY,SAAZ,CAAP,CADQ,EAER,KAAK,SAAL,EACA,KAAK,KAAL,CAHF,CAD4B;AAM5B,SAAG,IAAH,GAAU,EAAE,MAAF,CAAS,OAAO,KAAP,CAAT,CACR,EAAE,IAAF,CAAO,CAAC,UAAD,EAAY,SAAZ,CAAP,CADQ,EAER,EAAE,IAAF,EACA,EAAE,MAAF,CAAS,CAAC,MAAD,EAAS,QAAT,CAAT,CAHQ,CAAV,CAN4B;AAW5B,aAAO,OAAP,GAX4B;KAA9B;;AAcA,aAAS,gBAAT,GAA4B;AAC1B,aAAO,UAAP,CAAkB,gBAAlB,EAAoC,GAAG,IAAH,CAApC,CAD0B;KAA5B;GA3BF;CAPD,CAAD","file":"settingsCtrl.js","sourcesContent":["(function() {\n  angular.module('clickApp.controllers')\n    .controller('settingsCtrl', settingsCtrl);\n\n  settingsCtrl.$inject = [\n    '$scope',\n  ];\n  function settingsCtrl($scope) {\n    const vm = this;\n    console.log('init settingsCtrl');\n\n    vm.doUpdateSettings = doUpdateSettings;\n\n    activate();\n\n    function activate() {\n      $scope.state.data_ready.then(updateEditSettings);\n      $scope.onStateChangeEvent('Settings.current.change',\n                                updateEditSettings, $scope);\n    }\n    function updateEditSettings() {\n      vm.edit = R.thread($scope.state)(\n        R.path(['settings','current']),\n        JSON.stringify,\n        JSON.parse\n      );\n      vm.menu = R.thread($scope.state)(\n        R.path(['settings','default']),\n        R.keys,\n        R.concat(['Main', 'Models'])\n      );\n      $scope.$digest();\n    }\n\n    function doUpdateSettings() {\n      $scope.stateEvent('Settings.reset', vm.edit);\n    }\n  }\n})();\n"]}