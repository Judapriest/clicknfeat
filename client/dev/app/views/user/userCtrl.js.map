{"version":3,"sources":["userCtrl.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,sBAAf,EACG,UADH,CACc,UADd,EAC0B,QAD1B,EADU;;AAIV,WAAS,OAAT,GAAmB,CACjB,QADiB,CAAnB,CAJU;AAOV,WAAS,QAAT,CAAkB,MAAlB,EAA0B;AACxB,QAAM,KAAK,IAAL,CADkB;AAExB,YAAQ,GAAR,CAAY,eAAZ,EAFwB;;AAIxB,OAAG,MAAH,GAAY,MAAZ,CAJwB;AAKxB,eALwB;;AAOxB,aAAS,MAAT,GAAkB;AAChB,aAAO,UAAP,CAAkB,UAAlB,EAA8B,EAAE,OAAO,GAAG,IAAH,EAAvC,EADgB;KAAlB;;AAIA,aAAS,QAAT,GAAoB;AAClB,aAAO,KAAP,CAAa,UAAb,CAAwB,IAAxB,CAA6B,YAAM;AACjC,gBAAQ,GAAR,CAAY,uBAAZ,EAAqC,OAAO,KAAP,CAAa,IAAb,CAArC,CADiC;AAEjC,WAAG,IAAH,GAAU,EAAE,KAAF,CAAQ,OAAO,KAAP,CAAa,IAAb,CAAkB,KAAlB,CAAlB,CAFiC;AAGjC,eAAO,OAAP,GAHiC;OAAN,CAA7B,CADkB;AAMlB,aAAO,kBAAP,CAA0B,mBAA1B,EAC0B,YAAM;AAAE,eAAO,SAAP,CAAiB,QAAjB,EAAF;OAAN,EACA,MAF1B,EANkB;KAApB;GAXF;CAPD,CAAD","file":"userCtrl.js","sourcesContent":["(function() {\n  angular.module('clickApp.controllers')\n    .controller('userCtrl', userCtrl);\n\n  userCtrl.$inject = [\n    '$scope'\n  ];\n  function userCtrl($scope) {\n    const vm = this;\n    console.log('init userCtrl');\n\n    vm.doSave = doSave;\n    activate();\n\n    function doSave() {\n      $scope.stateEvent('User.set', { state: vm.edit });\n    }\n\n    function activate() {\n      $scope.state.user_ready.then(() => {\n        console.log('copy user for edition', $scope.state.user);\n        vm.edit = R.clone($scope.state.user.state);\n        $scope.$digest();\n      });\n      $scope.onStateChangeEvent('User.becomesValid',\n                                () => { $scope.goToState('lounge'); },\n                                $scope);\n    }\n  }\n})();\n"]}