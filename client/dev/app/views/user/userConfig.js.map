{"version":3,"sources":["userConfig.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,UAAf,EACG,MADH,CACU,SADV,EAEG,GAFH,CAEO,0BAFP,EADU;;AAKV,YAAU,OAAV,GAAoB,CAClB,gBADkB,CAApB,CALU;AAQV,WAAS,SAAT,CAAmB,cAAnB,EAAmC;AACjC,mBACG,KADH,CACS,MADT,EACiB;AACb,WAAK,OAAL;AACA,mBAAa,0BAAb;AACA,kBAAY,UAAZ;AACA,oBAAc,MAAd;AACA,YAAM,EAAN;KANJ,EADiC;GAAnC;AAUA,6BAA2B,OAA3B,GAAqC,CACnC,YADmC,EAEnC,QAFmC,EAGnC,MAHmC,CAArC,CAlBU;AAuBV,WAAS,0BAAT,CAAoC,UAApC,EAAgD,MAAhD,EAAwD,SAAxD,EAAmE;AACjE,eAAW,GAAX,CAAe,mBAAf,EAAoC,UAAC,KAAD,EAAQ,OAAR,EAAoB;AACtD,UAAG,CAAC,EAAE,IAAF,CAAO,CAAC,OAAD,EAAS,MAAT,CAAP,EAAyB,UAAzB,CAAD,EAAuC,OAA1C;AACA,UAAG,QAAQ,IAAR,KAAiB,MAAjB,EAAyB,OAA5B;;AAEA,cAAQ,GAAR,CAAY,gCAAZ,EAA8C,OAA9C,EAJsD;AAKtD,UAAG,UAAU,OAAV,CAAkB,WAAW,KAAX,CAAiB,IAAjB,CAArB,EAA6C,OAA7C;;AAEA,aAAO,YAAP,CAAoB,MAApB,EAPsD;AAQtD,YAAM,cAAN,GARsD;KAApB,CAApC,CADiE;GAAnE;CAvBD,CAAD","file":"userConfig.js","sourcesContent":["(function() {\n  angular.module('clickApp')\n    .config(userRoute)\n    .run(checkUserOnStateTransition);\n\n  userRoute.$inject = [\n    '$stateProvider',\n  ];\n  function userRoute($stateProvider) {\n    $stateProvider\n      .state('user', {\n        url: '/user',\n        templateUrl: 'app/views/user/user.html',\n        controller: 'userCtrl',\n        controllerAs: 'user',\n        data: {}\n      });\n  }\n  checkUserOnStateTransition.$inject = [\n    '$rootScope',\n    '$state',\n    'user'\n  ];\n  function checkUserOnStateTransition($rootScope, $state, userModel) {\n    $rootScope.$on('$stateChangeStart', (event, toState) => {\n      if(!R.path(['state','user'], $rootScope)) return;\n      if(toState.name === 'user') return;\n\n      console.log('Checking user on transition to', toState);\n      if(userModel.isValid($rootScope.state.user)) return;\n\n      $state.transitionTo('user');\n      event.preventDefault();\n    });\n  }\n})();\n"]}