{"version":3,"sources":["loungeCtrl.es6"],"names":[],"mappings":"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","file":"loungeCtrl.js","sourcesContent":["(function() {\n  angular.module('clickApp.controllers')\n    .controller('loungeCtrl', loungeCtrl);\n\n  loungeCtrl.$inject = [\n    '$scope',\n    'appGames',\n  ];\n  function loungeCtrl($scope,\n                      appGamesService) {\n    const vm = this;\n    console.log('init loungeCtrl');\n\n    vm.doUserToggleOnline = doUserToggleOnline;\n\n    vm.localGamesIsEmpty = localGamesIsEmpty;\n    vm.doCreateLocalGame = doCreateLocalGame;\n    vm.doLoadLocalGame = doLoadLocalGame;\n    vm.doOpenLocalGameFile = doOpenLocalGameFile;\n    vm.doDeleteLocalGame = doDeleteLocalGame;\n\n    vm.doCreateOnlineGame = doCreateOnlineGame;\n    vm.doLoadOnlineGame = doLoadOnlineGame;\n    vm.doOpenOnlineGameFile = doOpenOnlineGameFile;\n\n    activate();\n\n    function activate() {\n      vm.local_games_selection = {};\n      vm.online_games_selection = {};\n      $scope.listenSignal(onGamesLocalLoadSuccess,\n                          appGamesService.load.local, $scope);\n      $scope.listenSignal(onGamesOnlineLoadSuccess,\n                          appGamesService.load.online, $scope);\n    }\n\n    function doUserToggleOnline() {\n      $scope.sendAction('User.toggleOnline');\n    }\n\n    function localGamesIsEmpty() {\n      const ret = ( R.isEmpty($scope.state.local_games) ||\n                    R.isEmpty(vm.local_games_selection.list)\n                  );\n      return ret;\n    }\n    function doCreateLocalGame() {\n      $scope.sendAction('Games.local.create');\n    }\n    function doLoadLocalGame() {\n      const id = R.thread($scope.state.local_games)(\n        R.nth(vm.local_games_selection.list[0]),\n        R.prop('local_stamp')\n      );\n      $scope.sendAction('Games.local.load', id);\n    }\n    function doOpenLocalGameFile(files) {\n      $scope.sendAction('Games.local.loadFile', files[0]);\n    }\n    function doDeleteLocalGame() {\n      const id = R.thread($scope.state.local_games)(\n        R.nth(vm.local_games_selection.list[0]),\n        R.prop('local_stamp')\n      );\n      $scope.sendAction('Games.local.delete', id);\n    }\n    function onGamesLocalLoadSuccess(id) {\n      console.warn('load local game success', id);\n      $scope.app.goToState('game.main', {\n        online: 'offline',\n        private: 'private',\n        id: id\n      });\n    }\n\n    function doCreateOnlineGame() {\n      $scope.sendAction('Games.online.create');\n    }\n    function doLoadOnlineGame() {\n      $scope.sendAction('Games.online.load', vm.online_games_selection.list[0]);\n    }\n    function doOpenOnlineGameFile(files) {\n      $scope.sendAction('Games.online.loadFile', files[0]);\n    }\n    function onGamesOnlineLoadSuccess([is_private, id]) {\n      console.warn('load online game success', arguments, id, is_private);\n      $scope.app.goToState('game.main', {\n        online: 'online',\n        private: is_private,\n        id: id\n      });\n    }\n  }\n})();\n"]}