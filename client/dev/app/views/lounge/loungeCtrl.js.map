{"version":3,"sources":["loungeCtrl.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,sBAAf,EACG,UADH,CACc,YADd,EAC4B,UAD5B,EADU;;AAIV,aAAW,OAAX,GAAqB,CACnB,QADmB,CAArB,CAJU;AAOV,WAAS,UAAT,CAAoB,MAApB,EAA4B;AAC1B,QAAM,KAAK,IAAL,CADoB;AAE1B,YAAQ,GAAR,CAAY,iBAAZ,EAF0B;;AAI1B,OAAG,qBAAH,GAA2B,EAA3B,CAJ0B;AAK1B,OAAG,iBAAH,GAAuB,iBAAvB,CAL0B;AAM1B,OAAG,iBAAH,GAAuB,iBAAvB,CAN0B;AAO1B,OAAG,eAAH,GAAqB,eAArB,CAP0B;AAQ1B,OAAG,mBAAH,GAAyB,mBAAzB,CAR0B;AAS1B,OAAG,iBAAH,GAAuB,iBAAvB,CAT0B;;AAW1B,eAX0B;;AAa1B,aAAS,QAAT,GAAoB;AAClB,aAAO,wBAAP,CAAgC,oBAAhC,EAAsD,MAAtD,EADkB;AAElB,aAAO,kBAAP,CAA0B,kBAA1B,EAA8C,gBAA9C,EAAgE,MAAhE,EAFkB;KAApB;;AAKA,aAAS,gBAAT,CAA0B,KAA1B,EAAiC,EAAjC,EAAqC;;;;;;AAMnC,aAAO,OAAP,GANmC;KAArC;AAQA,aAAS,iBAAT,GAA6B;AAC3B,aAAS,OAAO,KAAP,CAAa,WAAb,CAAyB,MAAzB,IAAmC,CAAnC,IACA,GAAG,qBAAH,CAAyB,IAAzB,CAA8B,MAA9B,IAAwC,CAAxC,CAFkB;KAA7B;AAKA,aAAS,iBAAT,GAA6B;AAC3B,aAAO,UAAP,CAAkB,oBAAlB,EAD2B;KAA7B,CA/B0B;AAkC1B,aAAS,eAAT,GAA2B;;;;;;;;KAA3B,CAlC0B;AA2C1B,aAAS,mBAAT,CAA6B,KAA7B,EAAoC;;KAApC,CA3C0B;AA8C1B,aAAS,iBAAT,GAA6B;AAC3B,UAAM,KAAK,EAAE,MAAF,CAAS,OAAO,KAAP,CAAa,WAAb,CAAT,CACT,EAAE,GAAF,CAAM,GAAG,qBAAH,CAAyB,IAAzB,CAA8B,CAA9B,CAAN,CADS,EAET,EAAE,IAAF,CAAO,aAAP,CAFS,CAAL,CADqB;AAK3B,aAAO,UAAP,CAAkB,oBAAlB,EAAwC,EAAxC,EAL2B;KAA7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA9C0B,GAA5B;CAPD,CAAD","file":"loungeCtrl.js","sourcesContent":["(function() {\n  angular.module('clickApp.controllers')\n    .controller('loungeCtrl', loungeCtrl);\n\n  loungeCtrl.$inject = [\n    '$scope',\n  ];\n  function loungeCtrl($scope) {\n    const vm = this;\n    console.log('init loungeCtrl');\n\n    vm.local_games_selection = {};\n    vm.localGamesIsEmpty = localGamesIsEmpty;\n    vm.doCreateLocalGame = doCreateLocalGame;\n    vm.doLoadLocalGame = doLoadLocalGame;\n    vm.doOpenLocalGameFile = doOpenLocalGameFile;\n    vm.doDeleteLocalGame = doDeleteLocalGame;\n\n    activate();\n\n    function activate() {\n      $scope.digestOnStateChangeEvent('Games.local.change', $scope);\n      $scope.onStateChangeEvent('Games.local.load', onGamesLocalLoad, $scope);\n    }\n\n    function onGamesLocalLoad(event, id) {\n      // $scope.goToState('game.main', {\n      //   online: 'offline',\n      //   private: 'private',\n      //   id: id\n      // });\n      $scope.$digest();\n    }\n    function localGamesIsEmpty() {\n      return ( $scope.state.local_games.length <= 0 ||\n               vm.local_games_selection.list.length <= 0\n             );\n    }\n    function doCreateLocalGame() {\n      $scope.stateEvent('Games.local.create');\n    };\n    function doLoadLocalGame() {\n    //   let id = R.pipe(\n    //     R.always($scope.state.local_games),\n    //     R.nth($scope.local_games_selection.list[0]),\n    //     R.prop('local_stamp')\n    //   )();\n    //   console.log('load', $scope.state.local_games, $scope.local_games_selection.list[0], id);\n    //   $scope.stateEvent('Games.local.load', id);\n    };\n    function doOpenLocalGameFile(files) {\n    //   $scope.stateEvent('Games.local.loadFile', files[0]);\n    };\n    function doDeleteLocalGame() {\n      const id = R.thread($scope.state.local_games)(\n        R.nth(vm.local_games_selection.list[0]),\n        R.prop('local_stamp')\n      );\n      $scope.stateEvent('Games.local.delete', id);\n    };\n\n    // $scope.online_games_selection = {};\n    // function loadNewOnlineGame(game) {\n    //   return R.pipeP(\n    //     gamesService.newOnlineGame,\n    //     function(game) {\n    //       $scope.goToState('game', {\n    //         online: 'online',\n    //         private: 'private',\n    //         id: game.private_stamp,\n    //       });\n    //     }\n    //   )(game);\n    // }\n    // $scope.doCreateOnlineGame = function() {\n    //   var game = gameService.create($scope.user.state);\n    //   return loadNewOnlineGame(game);\n    // };\n    // $scope.doOpenOnlineGameFile = function(files) {\n    //   return R.pipeP(\n    //     fileImportService.read$('json'),\n    //     loadNewOnlineGame\n    //   )(files[0])\n    //     .catch(function() {\n    //       console.log('Failed to open online game file');\n    //     });\n    // };\n    // $scope.doLoadOnlineGame = function() {\n    //   var game_index = $scope.online_games_selection.list[0];\n    //   var stamp = R.propOr('null', 'public_stamp', $scope.user.connection.games[game_index]);\n    //   $scope.goToState('game', {\n    //     online: 'online',\n    //     private: 'public',\n    //     id: stamp\n    //   });\n    // };\n\n    // $scope.doUserToggleOnline = function() {\n    //   $scope.stateEvent('User.toggleOnline');\n    // };\n  }\n})();\n"]}