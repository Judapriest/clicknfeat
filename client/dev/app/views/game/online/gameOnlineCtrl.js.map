{"version":3,"sources":["gameOnlineCtrl.es6"],"names":[],"mappings":";;;;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,sBAAf,EACG,UADH,CACc,gBADd,EACgC,cADhC,EADU;;AAIV,iBAAe,OAAf,GAAyB,CACvB,QADuB,EAEvB,UAFuB,EAGvB,SAHuB,CAAzB,CAJU;AASV,WAAS,cAAT,CAAwB,MAAxB,EACwB,eADxB,EAEwB,cAFxB,EAEwC;AACtC,QAAM,KAAK,IAAL,CADgC;AAEtC,YAAQ,GAAR,CAAY,qBAAZ,EAFsC;;AAItC,OAAG,gBAAH,GAAsB,gBAAtB,CAJsC;;AAMtC,eANsC;;AAQtC,aAAS,QAAT,GAAoB;AAClB,SAAG,eAAH,GAAqB,EAArB,CADkB;;AAGlB,aAAO,YAAP,CAAoB,wBAApB,EACoB,gBAAgB,IAAhB,CAAqB,MAArB,EAA6B,MADjD,EAHkB;AAKlB,qBAAe,KAAf,CAAqB,IAArB,CAA0B,YAAM;AAC9B,eAAO,QAAP,CAAgB,eAAhB,EAAiC,eAAe,MAAf,EAAuB,MAAxD,EAD8B;OAAN,CAA1B,CALkB;KAApB;;AAUA,aAAS,eAAT,CAAyB,SAAzB,EAAoC;AAClC,UAAG,CAAC,SAAD,EAAY;AACb,eAAO,GAAP,CAAW,SAAX,CAAqB,QAArB,EADa;OAAf;KADF;;AAMA,aAAS,gBAAT,GAA4B;AAC1B,aAAO,UAAP,CAAkB,mBAAlB,EAAuC,GAAG,eAAH,CAAmB,IAAnB,CAAwB,CAAxB,CAAvC,EAD0B;KAA5B;AAGA,aAAS,wBAAT,OAAoD;;;UAAjB,sBAAiB;UAAL,cAAK;;AAClD,cAAQ,IAAR,CAAa,0BAAb,EAAyC,SAAzC,EAAoD,EAApD,EAAwD,UAAxD,EADkD;AAElD,aAAO,GAAP,CAAW,SAAX,CAAqB,WAArB,EAAkC;AAChC,gBAAQ,QAAR;AACA,iBAAS,UAAT;AACA,YAAI,EAAJ;OAHF,EAFkD;KAApD;GA7BF;CATD,CAAD","file":"gameOnlineCtrl.js","sourcesContent":["(function() {\n  angular.module('clickApp.controllers')\n    .controller('gameOnlineCtrl', gameOnlineCtrl);\n\n  gameOnlineCtrl.$inject = [\n    '$scope',\n    'appGames',\n    'appUser',\n  ];\n  function gameOnlineCtrl($scope,\n                          appGamesService,\n                          appUserService) {\n    const vm = this;\n    console.log('init gameOnlineCtrl');\n\n    vm.doLoadOnlineGame = doLoadOnlineGame;\n\n    activate();\n\n    function activate() {\n      vm.games_selection = {};\n\n      $scope.listenSignal(onGamesOnlineLoadSuccess,\n                          appGamesService.load.online, $scope);\n      appUserService.ready.then(() => {\n        $scope.bindCell(checkUserOnline, appUserService.online, $scope);\n      });\n    }\n\n    function checkUserOnline(is_online) {\n      if(!is_online) {\n        $scope.app.goToState('^.main');\n      }\n    }\n\n    function doLoadOnlineGame() {\n      $scope.sendAction('Games.online.load', vm.games_selection.list[0]);\n    }\n    function onGamesOnlineLoadSuccess([is_private, id]) {\n      console.warn('load online game success', arguments, id, is_private);\n      $scope.app.goToState('game.main', {\n        online: 'online',\n        private: is_private,\n        id: id\n      });\n    }\n  }\n})();\n"]}