{"version":3,"sources":["gameSetupCtrl.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,sBAAf,EACG,UADH,CACc,eADd,EAC+B,aAD/B,EADU;;AAIV,gBAAc,OAAd,GAAwB,CACtB,QADsB,EAEtB,SAFsB,CAAxB,CAJU;;;AASV,WAAS,aAAT,CAAuB,MAAvB,EACuB;;AADvB,IAGwB;AACtB,QAAM,KAAK,IAAL,CADgB;AAEtB,YAAQ,GAAR,CAAY,oBAAZ;;;;;;;AAFsB,MAStB,CAAG,aAAH,GAAmB,aAAnB;;;;;;;;;AATsB,YAkBtB,GAlBsB;;AAoBtB,aAAS,QAAT,GAAoB;AAClB,aAAO,QAAP,CAAgB,UAAC,IAAD,EAAU;;;AAGxB,qBAAa,IAAb,EAHwB;OAAV,EAIb,eAAe,IAAf,EAAqB,MAJxB;;;;;;;AADkB,KAApB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AApBsB,aAoEb,YAAT,CAAsB,IAAtB,EAA4B;AAC1B,SAAG,MAAH,GAAY,EAAE,IAAF,CAAO,QAAP,EAAiB,IAAjB,CAAZ,CAD0B;KAA5B;AAGA,aAAS,aAAT,CAAuB,CAAvB,EAA0B;AACxB,aAAO,UAAP,CAAkB,sBAAlB,EACkB,WADlB,EAC+B,CAAC,QAAD,EAAW,CAAX,CAD/B,EADwB;KAA1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAvEsB,GAHxB;CATD,CAAD","file":"gameSetupCtrl.js","sourcesContent":["(function() {\n  angular.module('clickApp.controllers')\n    .controller('gameSetupCtrl', gameSetupCtrl);\n\n  gameSetupCtrl.$inject = [\n    '$scope',\n    'appGame',\n    // 'gameScenario',\n  ];\n  function gameSetupCtrl($scope,\n                         appGameService// ,\n                         // gameScenarioService\n                        ) {\n    const vm = this;\n    console.log('init gameSetupCtrl');\n\n    // vm.doSetBoard = doSetBoard;\n    // vm.doSetRandomBoard = doSetRandomBoard;\n    // vm.doSetScenario = doSetScenario;\n    // vm.doSetRandomScenario = doSetRandomScenario;\n    // vm.doGenerateObjectives = doGenerateObjectives;\n    vm.doToggleLayer = doToggleLayer;\n    // vm.onAmbianceChange = onAmbianceChange;\n    // vm.onCategoryChange = onCategoryChange;\n    // vm.onEntryChange = onEntryChange;\n    // vm.getTerrain = getTerrain;\n    // vm.doCreateTerrain = doCreateTerrain;\n    // vm.doResetTerrain = doResetTerrain;\n    // vm.doImportBoardFile = doImportBoardFile;\n\n    activate();\n\n    function activate() {\n      $scope.bindCell((game) => {\n        // updateBoardName(game);\n        // updateScenario(game);\n        updateLayers(game);\n      }, appGameService.game, $scope);\n      // $scope.state.data_ready.then(onDataReady);\n\n      // $scope.$on('$destroy', () => {\n      //   $scope.stateEvent('Game.scenario.refresh');\n      // });\n      // $scope.stateEvent('Game.scenario.refresh');\n    }\n\n    // function onDataReady() {\n      // vm.ambiance = R.head(R.keys(vm.terrains));\n      // vm.onAmbianceChange();\n    //   $scope.$digest();\n    // }\n\n    // function updateBoardName(game) {\n    //   vm.board_name = R.path(['board','name'], game);\n    // }\n    // function doSetBoard() {\n    //   $scope.sendAction('Game.board.set', vm.board_name);\n    // }\n    // function doSetRandomBoard() {\n    //   $scope.sendAction('Game.board.setRandom');\n    // }\n\n    // function updateScenario(game) {\n    //   vm.scenario_name = R.path(['scenario','name'], game);\n    //   vm.scenario_group = gameScenarioService\n    //     .groupForName(vm.scenario_name, $scope.state.scenarios);\n    // }\n    // function doSetScenario() {\n    //   if(R.isNil(vm.scenario_name)) return;\n\n    //   $scope.sendAction('Game.scenario.set',\n    //                     vm.scenario_name, vm.scenario_group);\n    // }\n    // function doSetRandomScenario() {\n    //   $scope.sendAction('Game.scenario.setRandom');\n    // }\n    // function doGenerateObjectives() {\n    //   $scope.sendAction('Game.scenario.generateObjectives');\n    // }\n\n    function updateLayers(game) {\n      vm.layers = R.prop('layers', game);\n    }\n    function doToggleLayer(l) {\n      $scope.sendAction('Game.command.execute',\n                        'setLayers', ['toggle', l]);\n    }\n\n    // function onAmbianceChange() {\n    //   vm.category = R.head(R.keys($scope.state.terrains[vm.ambiance]));\n    //   vm.onCategoryChange();\n    // }\n    // function onCategoryChange() {\n    //   vm.entry = R.head(R.keys($scope.state.terrains[vm.ambiance][vm.category]));\n    //   vm.onEntryChange();\n    // }\n    // function onEntryChange() {\n    // }\n    // function getTerrainPath() {\n    //   return [ vm.ambiance,\n    //            vm.category,\n    //            vm.entry\n    //          ];\n    // }\n    // function getTerrain() {\n    //   return R.path([\n    //     vm.ambiance,\n    //     vm.category,\n    //     vm.entry\n    //   ], $scope.state.terrains);\n    // }\n    // function doCreateTerrain() {\n    //   const terrain_path = getTerrainPath();\n    //   $scope.sendAction('Game.terrain.create', terrain_path);\n    // }\n    // function doResetTerrain() {\n    //   $scope.sendAction('Game.terrain.reset');\n    // }\n\n    // function doImportBoardFile(files) {\n    //   $scope.sendAction('Game.board.importFile', files[0]);\n    // }\n  }\n})();\n"]}