{"version":3,"sources":["fileExport.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,YADX,EACyB,wBADzB,EADU;;AAIV,2BAAyB,OAAzB,GAAmC,CACjC,iBADiC,CAAnC,CAJU;AAOV,WAAS,wBAAT,CAAkC,sBAAlC,EAA0D;AACxD,SAAK,GAAL,GAAW,KAAK,GAAL,IAAY,KAAK,SAAL,CADiC;AAExD,QAAM,eAAe;AACnB,YAAM,sBAAN;KADI,CAFkD;;AAMxD,QAAM,oBAAoB;AACxB,gBAAU,kBAAV;AACA,eAAS,iBAAT;KAFI,CANkD;AAUxD,MAAE,YAAF,CAAe,iBAAf,EAVwD;AAWxD,WAAO,iBAAP,CAXwD;;AAaxD,aAAS,kBAAT,CAA4B,IAA5B,EAAkC,IAAlC,EAAwC;AACtC,aAAO,EAAE,MAAF,CAAS,IAAT,EACL,aAAa,IAAb,EAAmB,SAAnB,EACA,UAAC,MAAD;eAAY,IAAI,KAAK,IAAL,CAAU,CAAC,MAAD,CAAd,EAAwB,EAAC,MAAM,YAAN,EAAzB;OAAZ,EACA,KAAK,GAAL,CAAS,eAAT,CAHF,CADsC;KAAxC;AAOA,aAAS,iBAAT,CAA2B,GAA3B,EAAgC;AAC9B,UAAG,CAAC,EAAE,KAAF,CAAQ,GAAR,CAAD,EAAe;AAChB,aAAK,GAAL,CAAS,eAAT,CAAyB,GAAzB,EADgB;OAAlB;KADF;GApBF;CAPD,CAAD","file":"fileExport.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('fileExport', fileExportServiceFactory);\n\n  fileExportServiceFactory.$inject = [\n    'jsonStringifier',\n  ];\n  function fileExportServiceFactory(jsonStringifierService) {\n    self.URL = self.URL || self.webkitURL;\n    const stringifiers = {\n      json: jsonStringifierService\n    };\n\n    const fileExportService = {\n      generate: fileExportGenerate,\n      cleanup: fileExportCleanup\n    };\n    R.curryService(fileExportService);\n    return fileExportService;\n\n    function fileExportGenerate(type, data) {\n      return R.thread(data)(\n        stringifiers[type].stringify,\n        (string) => new self.Blob([string], {type: 'text/plain'}),\n        self.URL.createObjectURL\n      );\n    }\n    function fileExportCleanup(url) {\n      if(!R.isNil(url)) {\n        self.URL.revokeObjectURL(url);\n      }\n    }\n  }\n})();\n"]}