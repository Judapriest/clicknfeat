{"version":3,"sources":["fileImport.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,YADX,EACyB,wBADzB,EADU;;AAIV,2BAAyB,OAAzB,GAAmC,CACjC,YADiC,CAAnC,CAJU;AAOV,WAAS,wBAAT,CAAkC,iBAAlC,EAAqD;AACnD,QAAM,UAAU;AACd,YAAM,iBAAN;KADI,CAD6C;;AAKnD,QAAM,oBAAoB;AACxB,aAAO,eAAP;KADI,CAL6C;AAQnD,MAAE,YAAF,CAAe,iBAAf,EARmD;AASnD,WAAO,iBAAP,CATmD;;AAWnD,aAAS,eAAT,CAAyB,IAAzB,EAA+B,IAA/B,EAAqC;AACnC,aAAO,IAAI,KAAK,OAAL,CAAa,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC3C,YAAI,SAAS,IAAI,KAAK,UAAL,EAAb,CADuC;AAE3C,eAAO,MAAP,GAAgB,UAAC,CAAD,EAAO;AACrB,kBAAQ,IAAR,EACG,MADH,CACU,EAAE,MAAF,CAAS,MAAT,CADV,CAEG,IAFH,CAEQ,OAFR,EAGG,KAHH,CAGS,MAHT,EADqB;SAAP,CAF2B;AAQ3C,eAAO,OAAP,GAAiB,YAAM;AACrB,iBAAO,CAAC,oBAAD,CAAP,EADqB;SAAN,CAR0B;AAW3C,eAAO,OAAP,GAAiB,YAAM;AACrB,iBAAO,CAAC,oBAAD,CAAP,EADqB;SAAN,CAX0B;AAc3C,eAAO,UAAP,CAAkB,IAAlB,EAd2C;OAArB,CAAxB,CADmC;KAArC;GAXF;CAPD,CAAD","file":"fileImport.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('fileImport', fileImportServiceFactory);\n\n  fileImportServiceFactory.$inject = [\n    'jsonParser',\n  ];\n  function fileImportServiceFactory(jsonParserService) {\n    const parsers = {\n      json: jsonParserService\n    };\n\n    const fileImportService = {\n      readP: fileImportReadP\n    };\n    R.curryService(fileImportService);\n    return fileImportService;\n\n    function fileImportReadP(type, file) {\n      return new self.Promise((resolve, reject) => {\n        var reader = new self.FileReader();\n        reader.onload = (e) => {\n          parsers[type]\n            .parseP(e.target.result)\n            .then(resolve)\n            .catch(reject);\n        };\n        reader.onerror = () => {\n          reject(['Error reading file']);\n        };\n        reader.onabort = () => {\n          reject(['Abort reading file']);\n        };\n        reader.readAsText(file);\n      });\n    }\n  }\n})();\n"]}