{"version":3,"sources":["localStorage.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,cADX,EAC2B,0BAD3B,EADU;;AAIV,6BAA2B,OAA3B,GAAqC,CACnC,YADmC,EAEnC,iBAFmC,CAArC,CAJU;AAQV,WAAS,0BAAT,CAAoC,iBAApC,EACoC,sBADpC,EAC4D;AAC1D,QAAM,sBAAsB;AAC1B,YAAM,gBAAN;AACA,gBAAU,oBAAV;AACA,aAAO,iBAAP;AACA,gBAAU,oBAAV;AACA,aAAO,iBAAP;AACA,mBAAa,uBAAb;KANI,CADoD;AAS1D,MAAE,YAAF,CAAe,mBAAf,EAT0D;AAU1D,WAAO,mBAAP,CAV0D;;AAY1D,aAAS,gBAAT,GAA4B;AAC1B,aAAO,EAAE,IAAF,CACL,EAAE,MAAF,CAAS,KAAK,YAAL,CAAkB,MAAlB,CADJ,EAEL,EAAE,KAAF,CAAQ,CAAR,CAFK,EAGL,EAAE,GAAF,CAAM,EAAE,IAAF,CAAO,KAAK,YAAL,CAAkB,GAAlB,EACA,KAAK,YAAL,CADb,CAHK,GAAP,CAD0B;KAA5B;AAQA,aAAS,oBAAT,CAA8B,GAA9B,EAAmC;AACjC,aAAO,IAAI,KAAK,OAAL,CAAa,UAAC,OAAD,EAAa;AACnC,gBAAQ,KAAK,YAAL,CAAkB,OAAlB,CAA0B,GAA1B,CAAR,EADmC;OAAb,CAAxB,CADiC;KAAnC;AAKA,aAAS,iBAAT,CAA2B,GAA3B,EAAgC;AAC9B,aAAO,oBAAoB,OAApB,CAA4B,GAA5B,EACJ,IADI,CACC,kBAAkB,KAAlB,CADR,CAD8B;KAAhC;AAIA,aAAS,oBAAT,CAA8B,GAA9B,EAAmC,KAAnC,EAA0C;AACxC,aAAO,IAAI,KAAK,OAAL,CAAa,UAAC,OAAD,EAAa;AACnC,aAAK,YAAL,CAAkB,OAAlB,CAA0B,GAA1B,EAA+B,KAA/B,EADmC;AAEnC,gBAAQ,KAAR,EAFmC;OAAb,CAAxB,CADwC;KAA1C;AAMA,aAAS,iBAAT,CAA2B,GAA3B,EAAgC,KAAhC,EAAuC;AACrC,aAAO,uBAAuB,SAAvB,CAAiC,KAAjC,EACJ,IADI,CACC,oBAAoB,QAApB,CAA6B,GAA7B,CADD,EAEJ,IAFI,CAEC,EAAE,MAAF,CAAS,KAAT,CAFD,CAAP,CADqC;KAAvC;AAKA,aAAS,uBAAT,CAAiC,GAAjC,EAAsC;AACpC,aAAO,IAAI,KAAK,OAAL,CAAa,UAAC,OAAD,EAAa;AACnC,gBAAQ,KAAK,YAAL,CAAkB,UAAlB,CAA6B,GAA7B,CAAR,EADmC;OAAb,CAAxB,CADoC;KAAtC;GAzCF;CARD,CAAD","file":"localStorage.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('localStorage', localStorageServiceFactory);\n\n  localStorageServiceFactory.$inject = [\n    'jsonParser',\n    'jsonStringifier',\n  ];\n  function localStorageServiceFactory(jsonParserService,\n                                      jsonStringifierService) {\n    const localStorageService = {\n      keys: localStorageKeys,\n      getItemP: localStorageGetItemP,\n      loadP: localStorageLoadP,\n      setItemP: localStorageSetItemP,\n      saveP: localStorageSaveP,\n      removeItemP: localStorageRemoveItemP\n    };\n    R.curryService(localStorageService);\n    return localStorageService;\n\n    function localStorageKeys() {\n      return R.pipe(\n        R.always(self.localStorage.length),\n        R.range(0),\n        R.map(R.bind(self.localStorage.key,\n                     self.localStorage))\n      )();\n    }\n    function localStorageGetItemP(key) {\n      return new self.Promise((resolve) => {\n        resolve(self.localStorage.getItem(key));\n      });\n    }\n    function localStorageLoadP(key) {\n      return localStorageService.getItem(key)\n        .then(jsonParserService.parse);\n    }\n    function localStorageSetItemP(key, value) {\n      return new self.Promise((resolve) => {\n        self.localStorage.setItem(key, value);\n        resolve(value);\n      });\n    }\n    function localStorageSaveP(key, value) {\n      return jsonStringifierService.stringify(value)\n        .then(localStorageService.setItem$(key))\n        .then(R.always(value));\n    }\n    function localStorageRemoveItemP(key) {\n      return new self.Promise((resolve) => {\n        resolve(self.localStorage.removeItem(key));\n      });\n    }\n  }\n})();\n"]}