{"version":3,"sources":["action.es6"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV,UAAQ,MAAR,CAAe,mBAAf,EACG,OADH,CACW,WADX,EACwB,uBADxB,EADU;;AAIV,0BAAwB,OAAxB,GAAkC,CAChC,YADgC,EAEhC,YAFgC,CAAlC,CAJU;AAQV,WAAS,uBAAT,CAAiC,UAAjC,EACiC,UADjC,EAC6C;AAC3C,QAAI,UAAU,EAAV,CADuC;;AAG3C,QAAM,SAAS,WAAW,WAAX,CAAuB,MAAvB,EAAT,CAHqC;;AAK3C,QAAM,gBAAgB;AACpB,oBADoB;AAEpB,gBAAU,cAAV;AACA,gBAAU,cAAV;AACA,UAAI,QAAJ;AACA,aAAO,WAAP;KALI,CALqC;AAY3C,MAAE,YAAF,CAAe,aAAf,EAZ2C;;AAc3C,WAAO,aAAP,CAd2C;;AAgB3C,aAAS,cAAT,GAA0B;AACxB,aAAO,OAAP,CADwB;KAA1B;;AAIA,aAAS,cAAT,CAAwB,MAAxB,EAAgC,OAAhC,EAAyC;AACvC,UAAG,eAAe,EAAE,IAAF,CAAO,OAAP,CAAf,EAAgC;AACjC,gBAAQ,KAAR,UAAqB,iDAArB,EADiC;AAEjC,eAAO,aAAP,CAFiC;OAAnC;AAIA,UAAG,EAAE,MAAF,CAAS,EAAE,IAAF,CAAO,MAAP,EAAe,OAAf,CAAT,CAAH,EAAsC;AACpC,gBAAQ,IAAR,iBAA2B,8BAA3B,EADoC;OAAtC;AAGA,gBAAU,EAAE,KAAF,CAAQ,MAAR,EAAgB,OAAhB,EAAyB,OAAzB,CAAV,CARuC;AASvC,aAAO,aAAP,CATuC;KAAzC;AAWA,aAAS,QAAT,GAA2B;wCAAN;;OAAM;;AACzB,aAAO,IAAP,CAAY,IAAZ,EADyB;AAEzB,iBAAW,OAAX,GAFyB;KAA3B;AAIA,aAAS,WAAT,GAA8B;yCAAN;;OAAM;;AAC5B,WAAK,MAAL,CAAY,qBAAZ,CAAkC,YAAM;AACtC,iBAAS,KAAT,CAAe,IAAf,EAAqB,IAArB,EADsC;OAAN,CAAlC,CAD4B;KAA9B;GApCF;CARD,CAAD","file":"action.js","sourcesContent":["(function() {\n  angular.module('clickApp.services')\n    .factory('appAction', appActionServiceFactory);\n\n  appActionServiceFactory.$inject = [\n    '$rootScope',\n    'behaviours'\n  ];\n  function appActionServiceFactory($rootScope,\n                                   behaviours) {\n    let ACTIONS = {};\n\n    const action = behaviours.signalModel.create();\n\n    const actionService = {\n      action,\n      handlers: actionHandlers,\n      register: actionRegister,\n      do: actionDo,\n      defer: actionDefer\n    };\n    R.curryService(actionService);\n\n    return actionService;\n\n    function actionHandlers() {\n      return ACTIONS;\n    }\n\n    function actionRegister(action, handler) {\n      if('Function' !== R.type(handler)) {\n        console.error(`*** ${action} registering handler is not a Function`);\n        return actionService;\n      }\n      if(R.exists(R.prop(action, ACTIONS))) {\n        console.warn(`*** Action ${action} already registered`);\n      }\n      ACTIONS = R.assoc(action, handler, ACTIONS);\n      return actionService;\n    }\n    function actionDo(...args) {\n      action.send(args);\n      $rootScope.$digest();\n    }\n    function actionDefer(...args) {\n      self.window.requestAnimationFrame(() => {\n        actionDo.apply(null, args);\n      });\n    }\n  }\n})();\n\n"]}